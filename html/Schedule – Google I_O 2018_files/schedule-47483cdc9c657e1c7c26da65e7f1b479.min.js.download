(function(e){function t(s){if(a[s])return a[s].exports;var r=a[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,s){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=93)})([,function(e){'use strict';var t=function(){};t.KEYS={end:35,enter:13,home:36,left:37,right:39,space:32},t._isTriggerKey=function(e){return e==t.KEYS.enter||e==t.KEYS.space},t.makeRingless=function(e){var t=function(){this.classList.add('a11y--pressed')},a=function(){this.classList.remove('a11y--pressed')},s=function(){this.classList.contains('a11y--pressed')||this.classList.add('a11y--focused')},r=function(){this.classList.remove('a11y--focused')};[].forEach.call(e,function(e){e.addEventListener('mousedown',t),e.addEventListener('mouseup',a),e.addEventListener('focus',s),e.addEventListener('blur',r)})},t.mimicButton=function(a){return function(s){if(t._isTriggerKey(s.which||s.keyCode||0)&&a(event))return event.preventDefault(),event.stopPropagation(),!1}},t.mimicTabs=function(e){var a=e.querySelectorAll('[role=tab]'),s=0,r=function(e){return'tab'==e.getAttribute('role')},o=function(e){return[].indexOf.call(a,e)},i=function(t,e){return e.click(),t.preventDefault(),!1},n=function(r){var e=r.which||r.keyCode||0;switch(e){case t.KEYS.left:return 0==s?i(r,a[a.length-1]):i(r,a[s-1]);case t.KEYS.right:return s==a.length-1?i(r,a[0]):i(r,a[s+1]);}};e.addEventListener('click',function(t){for(var e=t.target;e&&!r(e);)e=e.parentNode;r(e)&&('a'==t.target.tagName.toLowerCase()&&t.preventDefault(),s=o(e),[].forEach.call(a,function(t){var a=t==e;a?(t.setAttribute('aria-selected',!0),t.setAttribute('tabindex',0),t.focus()):(t.setAttribute('aria-selected',!1),t.setAttribute('tabindex',-1))}))}),e.addEventListener('keydown',function(s){var e=s.which||s.keyCode||0;e===t.KEYS.end?(s.preventDefault(),a[a.length-1].click()):e===t.KEYS.home?(event.preventDefault(),a[0].click()):void 0}),e.addEventListener('keyup',n)},t.init=function(){t.makeRingless(document.querySelectorAll('[role=button]')),t.makeRingless(document.querySelectorAll('[role=tab]')),t.makeRingless(document.querySelectorAll('[role=tab] a'))},e.exports=t},function(e){'use strict';e.exports={ANIMATE_ICON:'animateIcon',BOOKMARKS_BROADCAST:'bookmarksBroadcast',CONFIRM_SHOW:'confirmShow',HIDE_BANNER:'hideNotificationBanner',MAP_DETAILS:'mapDetails',MODAL_HIDE:'modalHide',MODAL_SHOW:'modalShow',SIGN_IN_CLICKED:'signInClicked',OPEN_CONFIRM:'openConfirm',OPTIMIZED_RESIZE:'optimizedResize',OPTIMIZED_SCROLL:'optimizedScroll',RESERVATIONS_BROADCAST:'reservationsBroadcast',SCHEDULE_UPDATED:'scheduleUpdated',SESSIONS_LOADED:'sessionsLoaded',TOAST_MESSAGE:'toastMessage'}},function(e,t,a){'use strict';function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function s(r,o){try{var i=t[r](o),n=i.value}catch(e){return void a(e)}return i.done?void e(n):Promise.resolve(n).then(function(e){s('next',e)},function(e){s('throw',e)})}return s('next')})}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(8),n=a(1);a(15);var l,d=window.firebase,c={CAPABLE_ATTRIBUTE:'data-notifications-capable',STATUS_ATTRIBUTE:'data-notifications-status',LOADING_ATTRIBUTE:'data-notifications-loading',LOADING_ATTRIBUTE_VISIBLE:'data-notifications-loading-visible',TOGGLE_ATTRIBUTE:'data-notifications-toggle',SUBSCRIBE_ATTRIBUTE:'data-notifications-subscribe',UNSUBSCRIBE_ATTRIBUTE:'data-notifications-unsubscribe',DISABLE_ATTRIBUTE:'data-notifications-disable'},u=Object.freeze(['schedule','attending']),p=function(e,t,a){a?e.setAttribute(t,e.getAttribute(t)||''):e.removeAttribute(t)},_=function(){function e(t){r(this,e),this.work_=new Set,this.callback_=t}return o(e,[{key:'add',value:function(e){var t=this;this.work_.add(e),1===this.work_.size&&this.callback_(!0);var a=function(){t.work_.delete(e),t.work_.size||t.callback_(!1)};e.then(a,a)}}]),e}(),h=function(){function e(t){var a=this;r(this,e),this.loadingUi_=new _(function(e){var t=document.querySelectorAll('['+c.LOADING_ATTRIBUTE+']');Array.prototype.forEach.call(t,function(t){t.classList.toggle('notifications-control__svg--visible',e),p(t,c.LOADING_ATTRIBUTE_VISIBLE,e)})}),this.fcmToken_='',this.notificationsEnabled_=!1,this.addEventListeners_(),this.updateUi_(!1),this.fcm=t,this.db_=window.firebase.firestore(),this.auth_=window.authIO;var o,i=function(e){if(o&&o(),!e)return void a.updateUi_(!1);a.fcm.getToken().then(function(e){a.fcmToken_=e;var t=a.fcmRef_();return t?void(o=t.onSnapshot(function(e){a.updateUi_(e.exists)},function(e){console.error('Error while grabbing user FCM doc snapshot',e)})):void console.debug('setupFCMSnapshot got token without ref',e)})};this.auth_.firebaseUser.listen(i),this.fcm.onTokenRefresh(s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setSubscribedInternal_(!0);case 2:i(a.auth_.firebaseUser.user);case 3:case'end':return e.stop();}},e,a)})))}return o(e,null,[{key:'init',value:function(){if(!d.messaging)return null;if(void 0!==l)return l;if(l=null,!('serviceWorker'in navigator&&'PushManager'in window))return null;var t=i.firebase.publicVapidKey;if(void 0===t)return console.warn('no VAPID notification key available'),null;document.body.setAttribute(c.CAPABLE_ATTRIBUTE,'');var a=d.messaging();return a.usePublicVapidKey(t),l=new e(a),a.onMessage(function(e){return l.onMessage_(e)}),window.sw.then(function(e){e&&a.useServiceWorker(e)}),l}}]),o(e,[{key:'fcmRef_',value:function(){var e=this.auth_.firebaseUser.user;return e&&this.fcmToken_?this.db_.collection('users').doc(e.uid).collection('fcmTokens').doc(this.fcmToken_):null}},{key:'onMessage_',value:function(e){var t=e.notification;return new Notification(t.title,t)}},{key:'addEventListeners_',value:function(){var a=this,e=function(s){var e=s.target;if(e.hasAttribute(c.UNSUBSCRIBE_ATTRIBUTE)||e.hasAttribute(c.DISABLE_ATTRIBUTE))a.setSubscribed(!1);else if(e.hasAttribute(c.SUBSCRIBE_ATTRIBUTE))a.setSubscribed(!0);else return!1;return!0};window.addEventListener('click',e),window.addEventListener('keydown',n.mimicButton(e))}},{key:'updateUi_',value:function(e){this.notificationsEnabled_=e;var t=function(e,t){var a=document.querySelectorAll('['+e+']');Array.prototype.forEach.call(a,function(a){var s=a.getAttribute(e);t(a,s)})};t(c.STATUS_ATTRIBUTE,function(t){p(t,c.STATUS_ATTRIBUTE+'--enabled',e)}),t(c.SUBSCRIBE_ATTRIBUTE,function(t){p(t,c.TOGGLE_ATTRIBUTE+'--visible',!e)}),t(c.UNSUBSCRIBE_ATTRIBUTE,function(t){p(t,c.TOGGLE_ATTRIBUTE+'--visible',e)}),t(c.DISABLE_ATTRIBUTE,function(t){return t.disabled=!e})}},{key:'prepareNotifications',value:function(){var e=s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth_.firebaseUser.user){e.next=2;break}return e.abrupt('return',this.auth_.signIn());case 2:return e.next=4,this.fcm.requestPermission();case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'onShow',value:function(){if(!this.notificationsEnabled_){var e=this.setSubscribedInternal_(!0);this.loadingUi_.add(e)}}},{key:'setSubscribedInternal_',value:function(){var e=s(regeneratorRuntime.mark(function e(t){var a,s,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.fcmRef_(),a){e.next=10;break}return e.next=4,this.fcm.requestPermission().catch(function(e){throw document.dispatchEvent(new CustomEvent('notification-permission-failed')),e});case 4:return e.next=6,this.fcm.getToken();case 6:if(a=this.fcmRef_(),a){e.next=10;break}debugger;throw new TypeError('got no fcmRef');case 10:if(s={},u.forEach(function(e){return s[e]=t}),r=a.parent.parent,o=r.set({topics:s},{merge:!0}),!t){e.next=19;break}return e.next=17,a.set({tokenId:a.id,lastVisit:d.firestore.FieldValue.serverTimestamp()});case 17:e.next=22;break;case 19:return e.next=21,a.delete();case 21:document.dispatchEvent(new CustomEvent('notification-disabled'));case 22:return e.next=24,o;case 24:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'setSubscribed',value:function(){var e=s(regeneratorRuntime.mark(function e(t){var a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth_.firebaseUser.deferredUser;case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt('return',this.auth_.signIn());case 5:return s=this.setSubscribedInternal_(t),this.loadingUi_.add(s),e.abrupt('return',s);case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();e.exports=h},function(e){'use strict';var t=function(){};t.getClosestClassUntil=function(e,t,a){for(;e&&!e.classList.contains(a);){if(e.classList.contains(t))return e;e=e.parentNode}},t.getClosestClass=function(e,t){for(;e;){if(e&&e.classList&&e.classList.contains(t))return e;e=e.parentNode}},t.Deferred=function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this)),Object.freeze(this)},t.getComputedHeight=function(e){return e?parseInt(window.getComputedStyle(e).getPropertyValue('height'),10):0},t.QueryString=function(){for(var e,t={},a=window.location.search.substring(1),s=a.split('&'),r=0;r<s.length;r++)if(e=s[r].split('='),'undefined'==typeof t[e[0]])t[e[0]]=decodeURIComponent(e[1]);else if('string'==typeof t[e[0]]){var o=[t[e[0]],decodeURIComponent(e[1])];t[e[0]]=o}else t[e[0]].push(decodeURIComponent(e[1]));return t},t.breakpoints={xs:360,sm:640,md:812,lg:1024,xl:1440},t.isMobile=function(){return window.innerWidth<this.breakpoints.md},t.isPartiallyInView=function(e){var t=e.getBoundingClientRect();return t.top-100<=window.innerHeight},e.exports=t},,function(e,t,a){'use strict';function s(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var r=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),o=a(1),i=a(3),n=i.init(),l='header__notifications__popup--visible',d=function(){function e(t){var a=this;s(this,e),this.el=t,this.disableEl=t.querySelector('.header__notifications__popup__footer a'),this.iconEl=t.querySelector('.header__notifications__icon'),this.materialIconEl=this.iconEl.querySelector('i'),this.popupEl=t.querySelector('.header__notifications__popup'),this.errorPopupEl=t.querySelector('.header__notifications__popup__error'),this.maskEl=t.querySelector('.header__notifications__mask'),this.addEventListeners_(),navigator.permissions&&navigator.permissions.query({name:'notifications'}).then(function(e){var t=function(){a.materialIconEl.textContent='denied'===e.state?'notifications_none':'notifications'};t(),e.onchange=t})}return r(e,[{key:'addEventListeners_',value:function(){var e=this,a=function(){return e.toggle(),!0};this.iconEl.addEventListener('click',a),this.iconEl.addEventListener('keydown',o.mimicButton(a)),this.maskEl.addEventListener('click',a),this.maskEl.addEventListener('keydown',o.mimicButton(a)),document.addEventListener('notification-permission-failed',function(){e.popupEl.classList.remove(l),e.errorPopupEl.classList.add(l)}),document.addEventListener('notification-disabled',function(){e.popupEl.classList.remove(l),e.errorPopupEl.classList.remove(l)})}},{key:'toggle',value:function(){var e=this;if(this.errorPopupEl.classList.contains(l))return void this.errorPopupEl.classList.remove(l);var t=this.popupEl,a=t.classList.contains(l);if(a)return void t.classList.remove(l);var s=n.prepareNotifications();s.then(function(){n.onShow(),t.classList.add(l)},function(t){console.warn('Couldn\'t enable permissions',t),e.errorPopupEl.classList.add(l)})}}],[{key:'init',value:function(){var t=document.querySelector('.header__notifications');return t?new e(t):void 0}}]),e}();e.exports=d},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(a){'object'==typeof window&&(t=window)}e.exports=t},function(e){e.exports={gapiLogin:'627211894852-eglljbslsqdegn1ct9eiu6svvt3r84sh.apps.googleusercontent.com',firebase:{project:'events-d07ac',apiKey:'AIzaSyDA47T8RymLa--FzFUE_KXfklaDmSjcA_s',publicVapidKey:'BJR5J9pTx1okyjtqmxNwAI302DKI5yF7008NUncQbNoAGgkhwyi1-DJD3TctRLPcJCeD-rWZMzzJi4viTlm21cQ',sender:627211894852},registration:'https://events-d07ac.appspot.com/_ah/api/registration/v1/register',sessions:'https://firebasestorage.googleapis.com/v0/b/io2018-festivus-prod/o/sessions.json?alt=media&token=47bed580-7965-4227-b0a3-1aca9b49316b'}},function(e,t,a){(function(t){var a=t.CustomEvent;e.exports=function(){try{var e=new a('cat',{detail:{foo:'bar'}});return'cat'===e.type&&'bar'===e.detail.foo}catch(t){}return!1}()?a:'undefined'!=typeof document&&'function'==typeof document.createEvent?function(t,a){var s=document.createEvent('CustomEvent');return a?s.initCustomEvent(t,a.bubbles,a.cancelable,a.detail):s.initCustomEvent(t,!1,!1,void 0),s}:function(t,a){var s=document.createEventObject();return s.type=t,a?(s.bubbles=!!a.bubbles,s.cancelable=!!a.cancelable,s.detail=a.detail):(s.bubbles=!1,s.cancelable=!1,s.detail=void 0),s}}).call(t,a(7))},function(){'use strict';(function(e){var t=Math.pow;e.Snap.plugin(function(t,a){a.prototype.animateWithPromise=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=this;return new Promise(function(e){s.animate.apply(s,t.concat([e]))})},e.Snap.animateWithPromise=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=this;return new Promise(function(e){s.animate.apply(s,t.concat([e]))})}}),e.mina.easeOutBack=function(e,a){return void 0==a&&(a=1.70158),t(--e,2)*((a+1)*e+a)+1},e.mina.easeInBack=function(e,a){return void 0==a&&(a=1.70158),t(e,2)*((a+1)*e-a)}})(window)},,,,function(e,t,a){'use strict';function s(e){var t=e.querySelector('a');t&&(t.focus(),t.blur())}var r=a(16),o=a(2),i=a(4),n=function(){};n.get=function(e){return n.reset(),{default:n.instance,noOffset:n.instanceNoOffset,schedule:n.schedule(e)}},n.init=function(){n.reset(),window.addEventListener(o.OPTIMIZED_RESIZE,n.reset),window.addEventListener(o.HIDE_BANNER,n.reset)},n.reset=function(){var e='easeOutQuint',t=document.querySelector('.header'),a=document.querySelector('.note-banner'),o=document.querySelector('.schedule__header'),l=i.getComputedHeight(a),d=i.getComputedHeight(o);t&&(n.schedule=function(e){if(e){var a=e.anchorClass,s=e.headerClass,o=e.beforeFn,n=e.afterFn,d=document.querySelector('.'+s);if(d){var c=i.getComputedHeight(d),u=i.getComputedHeight(t),p=8,_=p;return new r('a[data-scroll]',{before:o,preOffset:function(e){if(e.classList.contains(a)){var t=c;return _=+e.id.split('-')[1],t=_<p?c+u+l:c+l,t}},after:function(){p=_,setTimeout(function(){return n()},33)}})}}},n.instance=new r('a[data-scroll]',{easing:e,offset:function(){var e=i.getComputedHeight(t);return e+l+d},callback:s}),n.instanceNoOffset=new r('a[data-scroll-no-offset]',{easing:e,callback:s}))},e.exports=n},function(){'use strict';if(!navigator.serviceWorker)window.sw=Promise.resolve(null);else{window.sw=new Promise(function(e){var t=function(){e(navigator.serviceWorker.register('/io/sw.js'))};window.addEventListener('load',function(){window.requestIdleCallback?window.requestIdleCallback(t):t()})}),window.sw.then(function(e){var t=function(){e.waiting&&e.waiting.postMessage('skipWaiting')},a=function(){e.installing.addEventListener('statechange',function(e){'installed'===e.target.state&&t()})};navigator.serviceWorker.controller&&(e.waiting?t():e.installing?a():e.addEventListener('updatefound',a))});var e=!1;navigator.serviceWorker.addEventListener('controllerchange',function(){e||(e=!0,window.location.reload())})}},function(a,s,e){var r=Math.max;(function(e){var o,i;!function(r,e){o=[],i=function(){return e(r)}.apply(s,o),!(i!==void 0&&(a.exports=i))}('undefined'==typeof e?'undefined'==typeof window?this:window:e,function(_){'use strict';var e='querySelector'in document&&'addEventListener'in _&&'requestAnimationFrame'in _&&'closest'in _.Element.prototype,k={ignore:'[data-scroll-ignore]',header:null,speed:500,offset:0,easing:'easeInOutCubic',customEasing:null,preOffset:function(){},before:function(){},after:function(){}},n=function(){for(var a,s={},e=0,t=arguments.length;e<t;e++)a=arguments[e],!function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t])}(a);return s},t=function(e){return parseInt(_.getComputedStyle(e).height,10)},a=function(s){'#'===s.charAt(0)&&(s=s.substr(1));for(var e,t=s+'',n=t.length,o=-1,a='',r=t.charCodeAt(0);++o<n;){if(0===(e=t.charCodeAt(o)))throw new InvalidCharacterError('Invalid character: the input contains U+0000.');a+=1<=e&&31>=e||127==e||0===o&&48<=e&&57>=e||1===o&&48<=e&&57>=e&&45===r?'\\'+e.toString(16)+' ':128<=e||45===e||95===e||48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e?t.charAt(o):'\\'+t.charAt(o)}return'#'+a},o=function(a,e){var t;return'easeInQuad'===a.easing&&(t=e*e),'easeOutQuad'===a.easing&&(t=e*(2-e)),'easeInOutQuad'===a.easing&&(t=.5>e?2*e*e:(4-2*e)*e-1),'easeInCubic'===a.easing&&(t=e*e*e),'easeOutCubic'===a.easing&&(t=--e*e*e+1),'easeInOutCubic'===a.easing&&(t=.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),'easeInQuart'===a.easing&&(t=e*e*e*e),'easeOutQuart'===a.easing&&(t=1- --e*e*e*e),'easeInOutQuart'===a.easing&&(t=.5>e?8*e*e*e*e:1-8*--e*e*e*e),'easeInQuint'===a.easing&&(t=e*e*e*e*e),'easeOutQuint'===a.easing&&(t=1+--e*e*e*e*e),'easeInOutQuint'===a.easing&&(t=.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e),a.customEasing&&(t=a.customEasing(e)),t||e},i=function(){return r(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},u=function(a,e,t){var s=0;if(a.offsetParent)do s+=a.offsetTop,a=a.offsetParent;while(a);return s=r(s-e-t,0)},c=function(a){return a?t(a)+a.offsetTop:0},s=function(e,t,a){a||(e.focus(),document.activeElement.id!==e.id&&(e.setAttribute('tabindex','-1'),e.focus(),e.style.outline='none'),_.scrollTo(0,t))},l=function(){return!!('matchMedia'in _&&_.matchMedia('(prefers-reduced-motion)').matches)};return function(r,t){var T,d,h,m,C,g,f,v={};v.cancelScroll=function(){cancelAnimationFrame(f)},v.animateScroll=function(e,t,a){var l=n(T||k,a||{}),f='[object Number]'===Object.prototype.toString.call(e),r=f||!e.tagName?null:e;if(f||r){var d=_.pageYOffset;l.header&&!m&&(m=document.querySelector(l.header)),C||(C=c(m));var h=parseInt(l.preOffset(e,t),10);(isNaN(h)||'number'!=typeof h)&&(h=0);var g,y,L,S=parseInt('function'==typeof l.offset?l.offset()+h:l.offset+h,10),E=f?e:u(r,C,S),I=i(),A=0,w=function(a,i){var o=_.pageYOffset;if(a==i||o==i||(d<i&&_.innerHeight+o)>=I)return v.cancelScroll(),s(e,i,f),l.after(e,t),g=null,!0},R=function(e){g||(g=e),A+=e-g,y=A/parseInt(l.speed,10),y=1<y?1:y,L=d+(E-d)*o(l,y),_.scrollTo(0,Math.floor(L)),w(L,E)||(_.requestAnimationFrame(R),g=e)};0===_.pageYOffset&&_.scrollTo(0,0),l.before(e,t),v.cancelScroll(),_.requestAnimationFrame(R)}};var y=function(){d&&(d.id=d.getAttribute('data-scroll-id'),v.animateScroll(d,h),d=null,h=null)},b=function(e){if(!l()&&0===e.button&&!e.metaKey&&!e.ctrlKey&&(h=e.target.closest(r))&&'a'===h.tagName.toLowerCase()&&!e.target.closest(T.ignore)&&h.hostname===_.location.hostname&&h.pathname===_.location.pathname&&/#/.test(h.href)){var t;try{t=a(decodeURIComponent(h.hash))}catch(s){t=a(h.hash)}if('#'===t){e.preventDefault(),d=document.body;var s=d.id?d.id:'smooth-scroll-top';return d.setAttribute('data-scroll-id',s),d.id='',void(_.location.hash.substring(1)===s?y():_.location.hash=s)}d=document.querySelector(t),d&&(d.setAttribute('data-scroll-id',d.id),d.id='',h.hash===_.location.hash&&(e.preventDefault(),y()))}},S=function(){g||(g=setTimeout(function(){g=null,C=c(m)},66))};return v.destroy=function(){T&&(document.removeEventListener('click',b,!1),_.removeEventListener('resize',S,!1),v.cancelScroll(),T=null,d=null,h=null,m=null,C=null,g=null,f=null)},v.init=function(t){e&&(v.destroy(),T=n(k,t||{}),m=T.header?document.querySelector(T.header):null,C=c(m),document.addEventListener('click',b,!1),_.addEventListener('hashchange',y,!1),m&&_.addEventListener('resize',S,!1))},v.init(t),v}})}).call(s,e(7))},,function(e,t,a){'use strict';function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();a(10);var i=a(44),n=s(i),l=a(42),d=s(l),c=a(40),u=s(c),p=a(39),_=s(p),h=a(45),y=s(h),m=a(41),g=s(m),f=a(43),b=s(f),E=a(38),v=s(E),S=function(){function e(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.svg=t,this.animatedIcon=null,this.options=a,this.playedOnce=!1}return o(e,[{key:'init',value:function(){this.attachEvents(),this.svg.classList.contains('animated-icon--platforms')?this.animatedIcon=new n.default(this.svg):this.svg.classList.contains('animated-icon--grow-earn')?this.animatedIcon=new d.default(this.svg):this.svg.classList.contains('animated-icon--build-on-mobile')?this.animatedIcon=new u.default(this.svg):this.svg.classList.contains('animated-icon--beyond-mobile')?this.animatedIcon=new _.default(this.svg):this.svg.classList.contains('animated-icon--sandbox')?this.animatedIcon=new y.default(this.svg):this.svg.classList.contains('animated-icon--codelabs')?this.animatedIcon=new g.default(this.svg):this.svg.classList.contains('animated-icon--office-hours')?this.animatedIcon=new b.default(this.svg):this.svg.classList.contains('animated-icon--after-hours')&&(this.animatedIcon=new v.default(this.svg)),null!==this.animatedIcon&&(this.animatedIcon.init(),this.options.playOnLoad?this.animatedIcon.runAnimation():this.options.playInView&&this.attachScrollEvent())}},{key:'attachEvents',value:function(){this.svg.addEventListener('mouseenter',this.mouseenter.bind(this)),this.svg.addEventListener('mouseleave',this.mouseleave.bind(this)),this.svg.addEventListener('touchstart',this.mouseenter.bind(this)),this.svg.addEventListener('touchend',this.mouseleave.bind(this))}},{key:'attachScrollEvent',value:function(){window.addEventListener('scroll',this.playInView.bind(this))}},{key:'mouseenter',value:function(){null!==this.animatedIcon&&this.animatedIcon.play()}},{key:'mouseleave',value:function(){null!==this.animatedIcon&&this.animatedIcon.end()}},{key:'playInView',value:function(){!this.playedOnce&&this.isElementInView()&&(this.animatedIcon.runAnimation(),this.playedOnce=!0)}},{key:'isElementInView',value:function(){var e=this.svg.getBoundingClientRect(),t=document.documentElement;return 0<=e.top&&e.bottom<=(window.innerHeight||t.clientHeight)}}]),e}();t.default=S},,,,,,,,,,,function(e){function t(){return /iPhone|iPad|iPod/i.test(navigator.userAgent)}function a(){return /Android/i.test(navigator.userAgent)}function s(){return-1!=navigator.userAgent.indexOf('Chrome')}e.exports={isAndroid:a,isChrome:s,isFirefox:function(){return-1!=navigator.userAgent.indexOf('Firefox')},isIOS:t,isIE:function(){return /MSIE\/\d+/.test(navigator.userAgent)},isIEorEdge:function(){return /Edge\/\d+/.test(navigator.userAgent)||/MSIE\/\d+/.test(navigator.userAgent)||/Trident\/\d+/.test(navigator.userAgent)},isMobile:function(){return t()||a()},isSafari:function(){return!s()&&-1!=navigator.userAgent.indexOf('Safari')}}},function(e,t,a){function s(e){this.config=e,this.initDom_();var t=function(e){var t='data-'+this.config.className+'-video-id',a=e.getAttribute(t);a&&this.play(a)}.bind(this);l.addDelegatedListener(document,'click',t);var a=document.createElement('script');a.setAttribute('src','https://www.youtube.com/iframe_api'),document.body.appendChild(a)}function r(e){if(!p){var t=d.clone(_);e&&d.merge(t,e),p=new s(t)}}function o(e){if(!p)throw'youtubemodal.init must be run first.';return p.play(e)}var i=a(31),n=a(35),l=a(36),d=a(32),c=a(29),u=null,p=null,_={useHandlerOnMobile:!0,history:!1,historyNamePrefix:'video:',transitionDuration:300,className:'ak-youtubemodal',playerVars:{autohide:1,autoplay:1,fs:1,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3}};s.prototype.initDom_=function(){var e=n.createDom,t=e('div',this.config.className),a=e('div',this.config.className+'-x');t.appendChild(a),t.appendChild(e('div',this.config.className+'-player')),t.appendChild(e('div',this.config.className+'-mask')),document.body.appendChild(t),a.addEventListener('click',function(){this.setActive_(!1)}.bind(this)),this.config.history&&window.addEventListener('popstate',this.onHistoryChange_.bind(this))},s.prototype.setVisible=function(e){u&&window.setTimeout(function(){e?u.playVideo():u.pauseVideo()},100);var t=function(a){27==a.keyCode&&(this.setActive_(!1),document.body.removeEventListener('keydown',t))}.bind(this);e?document.body.addEventListener('keydown',t):document.body.removeEventListener('keydown',t);var a=document.querySelector('.'+this.config.className);window.setTimeout(function(){i.enable(a,this.config.className+'--enabled',e)}.bind(this),e?0:this.config.transitionDuration),window.setTimeout(function(){i.enable(a,this.config.className+'--visible',e)}.bind(this),e?this.config.transitionDuration:0)},s.prototype.setActive_=function(e,t,a){if(!this.config.history)return void this.setVisible(e);if(this.setVisible(e),!1!==a){var s=t||this.activeVideoId_;if(e){var r=window.history.state&&window.history.state.videoId;if(r==s)return;window.history.pushState({videoId:s},'','#'+this.config.historyNamePrefix+s)}else window.history.pushState({videoId:null},'',window.location.pathname)}},s.prototype.onHistoryChange_=function(t){t.state&&t.state.videoId?this.play(t.state.videoId,!1):this.setVisible(!1)},s.prototype.play=function(e,t){var a=this.config.useHandlerOnMobile&&(c.isIOS()||c.isAndroid());if(a)return void(window.location.href='https://m.youtube.com/watch?v='+e);if(this.setActive_(!0,e,t),!(u&&e==this.activeVideoId_)){if(u&&e!=this.activeVideoId_)return u.loadVideoById(e,0,'large'),void(this.activeVideoId_=e);var s=document.querySelector('.'+this.config.className+'-player'),r={videoId:e,playerVars:d.clone(this.config.playerVars)};u=new YT.Player(s,r),this.activeVideoId_=e}},e.exports={init:r,play:o}},function(e){e.exports={enable:function(e,t,a){a?e.classList.add(t):e.classList.remove(t)},removeAdd:function(e,t,a){e.classList.remove.apply(e.classList,t),e.classList.add.apply(e.classList,a)}}},function(e){e.exports={clone:function(e){var t={};for(var a in e)t[a]=e[a];return t},merge:function(e,t){for(var a in t)e[a]=t[a]}}},,,function(e){e.exports={createDom:function(e,t){var a=document.createElement(e);return t&&(a.className=t),a}}},function(e){e.exports={addDelegatedListener:function(e,t,a){return e.addEventListener(t,function(t){t=t||window.event;var e=t.target||t.srcElement;e=3===e.nodeType?e.parentNode:e;do a(e,t),e.parentNode&&(e=e.parentNode);while(e.parentNode)})}}},,function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=5,o=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.snapCanvas=Snap(this.svg),this.pointsContainer=this.snapCanvas.select('#after-hours-points'),this.points=this.pointsContainer.selectAll('circle'),this.pointsCount=this.points.length,this.completed=0}return s(e,[{key:'init',value:function(){this.points.forEach(function(e){e.colors=[e.attr('data-c1'),e.attr('data-c2')],e.delay=e.attr('data-delay'),e.state=0})}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){var e=this;this.points.forEach(function(t){setTimeout(function(){e.fillAndScalePoint(t,r,0)},500*t.delay)})}},{key:'fillAndScalePoint',value:function(e,t,a){var s=this;e.state++,e.attr('fill',e.colors[a]),e.animate({r:t},200,mina.easeout,function(){if(4===e.state)e.state=0,s.completed++,s.completed===s.pointsCount&&s.reset();else{var t=1==e.state%2?0:r,a=2<=e.state?1:0;setTimeout(function(){0===t?e.animate({r:1.2*r},150,mina.easeout,function(){s.fillAndScalePoint(e,t,a)}):s.fillAndScalePoint(e,t,a)},450)}})}},{key:'reset',value:function(){var e=this;this.completed=0,this.isHovered?setTimeout(function(){e.runAnimation()},400):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=o},function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.snapCanvas=Snap(this.svg),this.nucleus=this.snapCanvas.select('#beyond-mobile-nucleus'),this.innerRing=this.snapCanvas.select('#beyond-mobile-ring-inner'),this.outerRing=this.snapCanvas.select('#beyond-mobile-ring-outer'),this.planetsContainer=this.snapCanvas.select('#beyond-mobile-planets'),this.planets=this.planetsContainer.selectAll('circle'),this.planetCount=this.planets.length,this.nucleusR=this.nucleus.attr('r'),this.innerRingR=this.innerRing.attr('r'),this.outerRingR=this.outerRing.attr('r'),this.orbits=0}return s(e,[{key:'init',value:function(){}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){var e=this;this.runPulse(),setTimeout(function(){e.runOrbit()},300)}},{key:'runPulse',value:function(){var e=this;this.nucleus.animate({r:1.25*this.nucleusR},250,mina.easein,function(){e.nucleus.animate({r:e.nucleusR},100,mina.easeinout)}),setTimeout(function(){e.innerRing.animate({r:1.1*e.innerRingR},250,mina.easein,function(){e.innerRing.animate({r:e.innerRingR},100,mina.easeout)})},150),setTimeout(function(){e.outerRing.animate({r:1.1*e.outerRingR},250,mina.easein,function(){e.outerRing.animate({r:e.outerRingR},150,mina.easeout)})},250)}},{key:'runOrbit',value:function(){++this.orbits;for(var e=0;e<this.planetCount;e++)this.flashPlanet(this.planets[e],e)}},{key:'flashPlanet',value:function(e,t){var a=this;setTimeout(function(){e.attr('fill','#4768FD'),setTimeout(function(){e.attr('fill',null),t===a.planetCount-1&&(2>a.orbits?a.runOrbit():a.reset())},300)},t*250)}},{key:'reset',value:function(){var e=this;this.isHovered?(this.orbits=0,setTimeout(function(){e.runAnimation()},400)):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=r},function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=[{x:12,y:1,width:24,height:46},{x:1,y:8,width:46,height:32},{x:1,y:1,width:46,height:46}],o=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.snapCanvas=Snap(this.svg),this.screen=this.snapCanvas.select('rect'),this.point=this.snapCanvas.select('circle'),this.path1=this.snapCanvas.select('#build-on-mobile-path-1'),this.path2=this.snapCanvas.select('#build-on-mobile-path-2'),this.path3=this.snapCanvas.select('#build-on-mobile-path-3')}return s(e,[{key:'init',value:function(){r[0].path=this.path1,r[1].path=this.path2,r[2].path=this.path3,r[0].pathLength=Snap.path.getTotalLength(this.path1),r[1].pathLength=Snap.path.getTotalLength(this.path2),r[2].pathLength=Snap.path.getTotalLength(this.path3)}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){this.resizeScreen(0)}},{key:'resizeScreen',value:function(e){var t=this,a=2===e?200:150,s=2===e?250:200;this.screen.animate({x:r[e].x,y:r[e].y,width:r[e].width,height:r[e].height},a,mina.easeout,function(){setTimeout(function(){e<r.length-1?t.resizeScreen(e+1):t.reset()},1600)}),Snap.animate(0,r[e].pathLength,function(a){var s=Snap.path.getPointAtLength(r[e].path,a);t.point.attr('cx',s.x),t.point.attr('cy',s.y)},s,mina.easeinout)}},{key:'reset',value:function(){var e=this;this.isHovered?setTimeout(function(){e.runAnimation()},0):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=o},function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=300,o=150,n=4,l=150,d='#4768FD',i=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.snapCanvas=Snap(this.svg),this.dots=this.snapCanvas.selectAll('g'),this.dotsCount=this.dots.length}return s(e,[{key:'init',value:function(){}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){var e=this;this.animateInSolids(4),setTimeout(function(){e.setRangeColor(3,'#1CE8B5')},1*l),setTimeout(function(){e.pulse()},8*l)}},{key:'animateInSolids',value:function(e){for(var t=this,a=function(a){setTimeout(function(){t.dots[a].selectAll('circle')[0].animate({r:n},r,mina.easeout)},l*(.7*(a-e)))},s=e;s<this.dotsCount;s++)a(s)}},{key:'setRangeColor',value:function(e,t){for(var a=this,s=function(e){setTimeout(function(){a.setSolidColor(a.dots[e].selectAll('circle')[0],t),a.setOutlineColor(a.dots[e].selectAll('circle')[1],t)},l*(.8*e))},r=e;r<this.dotsCount;r++)s(r)}},{key:'setSolidColor',value:function(e,t){e.attr('fill',t),e.attr('stroke',t)}},{key:'setOutlineColor',value:function(e,t){e.attr('stroke',t)}},{key:'pulse',value:function(){for(var e=this,t=function(t){setTimeout(function(){e.dots[t].animate({transform:'s1.2,1.2'},o,mina.easein,function(){var a=e.dots[t].selectAll('circle');3===t&&(e.setSolidColor(a[0],d),e.setOutlineColor(a[1],d)),3<t&&(e.setOutlineColor(a[1],d),a[0].attr('r',.5*n),a[0].animate({r:0},r,mina.easeout,function(){t===e.dotsCount-1&&e.reset()})),e.dots[t].animate({transform:'s1,1'},o,mina.easeout)})},l*(.7*t))},a=0;a<this.dotsCount;a++)t(a)}},{key:'reset',value:function(){for(var e,t=this,a=3;a<this.dotsCount;a++)e=this.dots[a].selectAll('circle'),this.setSolidColor(e[0],d);this.isHovered?setTimeout(function(){t.runAnimation()},400):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=i},function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=400,o=400,i=1e3,n=50,l=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.snapCanvas=Snap(this.svg),this.bottom=this.snapCanvas.select('#grow-bottom'),this.middle=this.snapCanvas.select('#grow-middle'),this.top=this.snapCanvas.select('#grow-top'),this.bottomPaths=this.bottom.selectAll('path'),this.middlePaths=this.middle.selectAll('path'),this.topPaths=this.top.selectAll('path'),this.bottomRect=this.snapCanvas.select('#grow-bottom-rect'),this.middleRect=this.snapCanvas.select('#grow-middle-rect'),this.bottomRectCover=this.snapCanvas.select('#grow-bottom-rect-cover'),this.middleRectCover=this.snapCanvas.select('#grow-middle-rect-cover'),this.circle=this.top.select('circle')}return s(e,[{key:'init',value:function(){this.bottomPaths.forEach(function(e){e.pathLength=e.getTotalLength(),e.attr('stroke-dasharray',e.pathLength)}),this.middlePaths.forEach(function(e){e.pathLength=e.getTotalLength(),e.attr('stroke-dasharray',e.pathLength)}),this.topPaths.forEach(function(e){e.pathLength=e.getTotalLength(),e.attr('stroke-dasharray',e.pathLength),e.attr('stroke-dashoffset',e.pathLength)})}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){var e=this;this.animateOutPaths(this.bottomPaths),setTimeout(function(){e.animateOutPaths(e.middlePaths)},r),setTimeout(function(){e.animateCircle(0)},2*r),setTimeout(function(){e.animateInPaths(e.bottomPaths),setTimeout(function(){e.animateInPaths(e.middlePaths),setTimeout(function(){e.animateInPaths(e.topPaths)},r-n)},r-n)},r+i),setTimeout(function(){e.animateInRect(e.bottomRect,e.bottomRectCover),setTimeout(function(){e.animateInRect(e.middleRect,e.middleRectCover),setTimeout(function(){e.animateCircle(11),setTimeout(function(){e.reset()},r)},r+150)},r-n)},3*r+i)}},{key:'animateOutPaths',value:function(e){e.forEach(function(e){e.animate({strokeDashoffset:e.pathLength},r,mina.linear,function(){e.attr('opacity','0')})})}},{key:'animateInPaths',value:function(e){e.forEach(function(e){e.attr('opacity','1'),e.animate({strokeDashoffset:2*e.pathLength},r,mina.linear)})}},{key:'animateCircle',value:function(e){this.circle.animate({r:e},o,mina.easeout)}},{key:'animateInRect',value:function(e,t){var a=this;e.attr('transform','s0,0'),e.attr('opacity','1'),e.animate({transform:'s1,1'},o,mina.easeout,function(){t&&a.animateInRect(t)})}},{key:'reset',value:function(){var e=this,t={transform:'s0,0',opacity:'0'},a={strokeDashoffset:0};this.bottomRectCover.attr(t),this.middleRectCover.attr(t),this.bottomRect.attr(t),this.middleRect.attr(t),this.bottomPaths.forEach(function(e){e.attr(a)}),this.middlePaths.forEach(function(e){e.attr(a)}),this.topPaths.forEach(function(e){e.attr('stroke-dashoffset',e.pathLength)}),this.isHovered?setTimeout(function(){e.runAnimation()},400):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=l},function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=400,o=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.hasDrawn1=!1,this.hasDrawn2=!1,this.hasDrawn3=!1,this.hasReset=!1,this.snapCanvas=Snap(this.svg),this.tube1=this.snapCanvas.select('#office-hours-tube-1'),this.tube2=this.snapCanvas.select('#office-hours-tube-2'),this.tube3=this.snapCanvas.select('#office-hours-tube-3'),this.tube4=this.snapCanvas.select('#office-hours-tube-4'),this.dots=this.snapCanvas.select('#office-hours-dots'),this.state=0}return s(e,[{key:'init',value:function(){var e=Math.ceil;this.tube1.pathLength=e(Snap.path.getTotalLength(this.tube1)),this.tube2.pathLength=e(Snap.path.getTotalLength(this.tube2)),this.tube3.pathLength=e(Snap.path.getTotalLength(this.tube3)),this.tube4.pathLength=e(Snap.path.getTotalLength(this.tube4)),this.setTubeDashOffsets()}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){this.animateTube(this.tube1,this.tube1.pathLength,0),this.animateTube(this.tube2,this.tube2.pathLength,1)}},{key:'animateTube',value:function(e,t,a){var s=this;e.animate({strokeDashoffset:t},r,mina.easeinout,function(){setTimeout(function(){0===s.state&&s.rotateAndDraw1(),1===s.state&&s.rotateAndDraw2(),2===s.state&&s.rotateAndDraw3(),3===s.state&&s.reset(),s.state+=a},300)})}},{key:'rotateAndDraw1',value:function(){this.hasDrawn1||(this.hasDrawn1=!0,this.dots.animate({transform:'r-180,24,24'},r,mina.easeinout),this.animateTube(this.tube3,2*this.tube3.pathLength,0),this.animateTube(this.tube4,2*this.tube3.pathLength,1))}},{key:'rotateAndDraw2',value:function(){this.hasDrawn2||(this.hasDrawn2=!0,this.dots.animate({transform:'r-360,24,24'},r,mina.easeinout),this.animateTube(this.tube3,this.tube3.pathLength,0),this.animateTube(this.tube4,this.tube4.pathLength,1))}},{key:'rotateAndDraw3',value:function(){this.hasDrawn3||(this.hasDrawn3=!0,this.dots.animate({transform:'r-540,24,24'},r,mina.easeinout),this.tube1.attr('strokeDashoffset','60'),this.tube2.attr('strokeDashoffset','60'),this.animateTube(this.tube1,0,0),this.animateTube(this.tube2,0,1))}},{key:'setTubeDashOffsets',value:function(){this.tube1.attr('stroke-dashoffset',2*this.tube1.pathLength),this.tube2.attr('stroke-dashoffset',2*this.tube2.pathLength),this.tube3.attr('stroke-dashoffset',3*this.tube3.pathLength),this.tube4.attr('stroke-dashoffset',3*this.tube4.pathLength)}},{key:'reset',value:function(){var e=this;this.hasReset||(this.hasReset=!0,setTimeout(function(){e.isPlaying=!1,e.hasDrawn1=!1,e.hasDrawn2=!1,e.hasDrawn3=!1,e.hasReset=!1,e.state=0,e.dots.transform('r0,24,24'),e.setTubeDashOffsets()},10),this.isHovered?setTimeout(function(){e.runAnimation()},20):this.isPlaying=!1)}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=o},function(e,t){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=250,o=function(){function e(t){a(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.circlesContainer=this.svg.getElementById('platform-circles'),this.circles=this.circlesContainer.children,this.circleCount=this.circles.length}return s(e,[{key:'init',value:function(){}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){this.animateCircles()}},{key:'animateCircles',value:function(){for(var e=0;e<this.circleCount;e++)this.showCircle(this.circles[e],e),this.hideCircle(this.circles[e],e)}},{key:'showCircle',value:function(e,t){setTimeout(function(){e.setAttribute('opacity','1')},t*r)}},{key:'hideCircle',value:function(e,t){var a=this;setTimeout(function(){e.setAttribute('opacity','0'),t===a.circleCount-1&&a.reset()},t*r+2350)}},{key:'reset',value:function(){var e=this;this.isHovered?setTimeout(function(){e.runAnimation()},400):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=o},function(e,t){'use strict';function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function s(r,o){try{var i=t[r](o),n=i.value}catch(e){return void a(e)}return i.done?void e(n):Promise.resolve(n).then(function(e){s('next',e)},function(e){s('throw',e)})}return s('next')})}}function s(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),o=200,i={TOPLEFT:{x:5,y:5},TOPCENTER:{x:30,y:5},CENTERLEFT:{x:5,y:30},CENTERRIGHT:{x:43,y:18},BOTTOMCENTER:{x:18,y:43},BOTTOMRIGHT:{x:43,y:43}},n={A:{primary:'#4768FD',secondary:'#FCD230'},B:{primary:'#FCD230',secondary:'#1CE8B5'}},l={A:{primary:'#4768FD',secondary:'#FF6C00'},B:{primary:'#FF6C00',secondary:'#4768FD'}},d=function(){function e(t){s(this,e),this.svg=t,this.isPlaying=!1,this.isHovered=!1,this.snapCanvas=Snap(this.svg),this.lineA=this.snapCanvas.select('#sandbox-line-a'),this.lineB=this.snapCanvas.select('#sandbox-line-b'),this.dotA=this.snapCanvas.select('#sandbox-dot-a'),this.dotB=this.snapCanvas.select('#sandbox-dot-b'),this.dotAMotion=this.snapCanvas.select('#sandbox-dot-a-motion'),this.dotBMotion=this.snapCanvas.select('#sandbox-dot-b-motion')}return r(e,[{key:'init',value:function(){}},{key:'play',value:function(){this.isHovered=!0,this.isPlaying||(this.isPlaying=!0,this.runAnimation())}},{key:'runAnimation',value:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runCycle1();case 2:setTimeout(function(){t.runCycle2()},1e3);case 3:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'runCycle1',value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lineOut();case 2:return e.next=4,this.moveDots();case 4:return e.next=6,this.moveDotsAndGrowLines();case 6:return e.next=8,this.lineOutAndColorDots(n.A.secondary,n.B.secondary);case 8:return e.next=10,this.growLinesAndSetColor(l.A.secondary,l.B.secondary);case 10:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'runCycle2',value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lineOut();case 2:return e.next=4,this.moveDots();case 4:return e.next=6,this.moveDotsAndGrowLines();case 6:return e.next=8,this.lineOutAndColorDots(n.A.primary,n.B.primary);case 8:return e.next=10,this.growLinesAndSetColor(l.A.primary,l.B.primary);case 10:this.reset();case 11:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'lineOut',value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.animatePoint(this.lineA,{x2:i.TOPCENTER.x,y2:i.TOPCENTER.y}),this.animatePoint(this.lineB,{x1:i.BOTTOMCENTER.x,y1:i.BOTTOMCENTER.y})]);case 2:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'moveDots',value:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',new Promise(function(e){setTimeout(function(){t.lineA.attr('opacity','0'),t.lineB.attr('opacity','0'),Promise.all([t.animatePoint(t.dotAMotion,{cx:i.TOPLEFT.x,cy:i.TOPLEFT.y}),t.animatePoint(t.dotBMotion,{cx:i.BOTTOMRIGHT.x,cy:i.BOTTOMRIGHT.y})]).then(e)},o)}));case 1:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'moveDotsAndGrowLines',value:function(){var e=a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',new Promise(function(e){setTimeout(function(){t.lineA.attr({x1:i.TOPLEFT.x,y1:i.TOPLEFT.y,x2:i.TOPLEFT.x,y2:i.TOPLEFT.y,opacity:1}),t.lineB.attr({x1:i.BOTTOMRIGHT.x,y1:i.BOTTOMRIGHT.y,x2:i.BOTTOMRIGHT.x,y2:i.BOTTOMRIGHT.y,opacity:1}),Promise.all([t.animatePoint(t.lineA,{x1:i.CENTERLEFT.x,y1:i.CENTERLEFT.y}),t.animatePoint(t.lineB,{x1:i.CENTERRIGHT.x,y1:i.CENTERRIGHT.y}),t.animatePoint(t.dotAMotion,{cx:i.CENTERLEFT.x,cy:i.CENTERLEFT.y}),t.animatePoint(t.dotBMotion,{cx:i.CENTERRIGHT.x,cy:i.CENTERRIGHT.y})]).then(e)},o)}));case 1:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'lineOutAndColorDots',value:function(e,t){var a=this;return new Promise(function(s){setTimeout(function(){a.dotA.attr('fill',e),a.dotB.attr('fill',t),Promise.all([a.animatePoint(a.lineA,{x2:i.CENTERLEFT.x,y2:i.CENTERLEFT.y}),a.animatePoint(a.lineB,{x2:i.CENTERRIGHT.x,y2:i.CENTERRIGHT.y})]).then(s)},o)})}},{key:'growLinesAndSetColor',value:function(e,t){var a=this;return new Promise(function(s){setTimeout(function(){a.lineA.attr('stroke',e),a.lineB.attr('stroke',t),Promise.all([a.animatePoint(a.lineA,{x1:i.TOPCENTER.x,y1:i.TOPCENTER.y}),a.animatePoint(a.lineB,{x2:i.BOTTOMCENTER.x,y2:i.BOTTOMCENTER.y}),a.animatePoint(a.dotAMotion,{cx:i.TOPCENTER.x,cy:i.TOPCENTER.y}),a.animatePoint(a.dotBMotion,{cx:i.BOTTOMCENTER.x,cy:i.BOTTOMCENTER.y})]).then(s)},o)})}},{key:'animatePoint',value:function(){var e=a(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.animateWithPromise(a,250,mina.easeinout);case 2:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'reset',value:function(){var e=this;this.isHovered?setTimeout(function(){e.runAnimation()},700):this.isPlaying=!1}},{key:'end',value:function(){this.isHovered=!1}}]),e}();t.default=d},,,,,,,function(e){'use strict';e.exports=function(e){return null!==e&&'object'==typeof e}},,,function(e,t,a){'use strict';function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function s(r,o){try{var i=t[r](o),n=i.value}catch(e){return void a(e)}return i.done?void e(n):Promise.resolve(n).then(function(e){s('next',e)},function(e){s('throw',e)})}return s('next')})}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(9),n=a(2),l=a(4),d='bookmark',c=function(){function e(t){var a=this;r(this,e),this.firebase_=t,this.auth_=window.authIO,this.unsub_=null,this.bookmarks_={},this.auth_.firebaseUser.listen(function(e){a.loadBookmarks_(e)}),this.modalSignIn=document.querySelector('.modal__signin'),window.addEventListener(n.SCHEDULE_UPDATED,this.updateBookmarks_.bind(this),!1),document.body.addEventListener('click',this.handleBookmark_.bind(this)),window.addEventListener(n.SIGN_IN_CLICKED,function(){this.auth_.signIn()}.bind(this))}return o(e,[{key:'broadcastBookmarks_',value:function(){window.dispatchEvent(new i(n.BOOKMARKS_BROADCAST,{detail:{bookmarks:this.bookmarks_}}))}},{key:'getSessionId_',value:function(e){for(var t=null,a=e;a.parentNode&&null==t;)t=a.dataset.session||a.getAttribute('data-session')||null,a=a.parentNode;return t}},{key:'handleBookmark_',value:function(){var e=s(regeneratorRuntime.mark(function t(a){var e,s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.auth_.firebaseUser.deferredUser;case 2:if(e=t.sent,s=l.getClosestClass(a.target,d),s){t.next=6;break}return t.abrupt('return');case 6:return r=this.getSessionId_(s),e||this.modalSignIn.dispatchEvent(new Event(n.MODAL_SHOW)),t.next=10,this.setBookmark_(r,!this.bookmarks_[r]);case 10:case'end':return t.stop();}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:'loadBookmarks_',value:function(){var e=s(regeneratorRuntime.mark(function e(){var t,a,s,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsub_&&this.unsub_(),this.unsub_=null,e.next=4,this.auth_.firebaseUser.deferredUser;case 4:if(t=e.sent,t){e.next=10;break}return this.bookmarks_={},this.broadcastBookmarks_(),this.updateBookmarks_(),e.abrupt('return');case 10:a=this.firebase_.firestore(),s=a.collection('users').doc(t.uid).collection('events').where('isStarred','==',!0).onSnapshot(function(e){var t={};e.forEach(function(e){return t[e.id]=!0}),r.bookmarks_=t,r.broadcastBookmarks_(),r.updateBookmarks_()},function(e){console.error('Error while grabbing bookmarks user starred events snapshot',e)}),this.unsub_=s;case 13:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'setBookmark_',value:function(){var e=s(regeneratorRuntime.mark(function e(t,a){var s,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth_.firebaseUser.deferredUser;case 2:if(s=e.sent,s){e.next=5;break}throw new Error('No user for signed in Firebase');case 5:return r=this.firebase_.firestore(),o=r.collection('users').doc(s.uid).collection('events').doc(t),e.next=9,o.set({isStarred:a},{merge:!0});case 9:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'updateBookmarks_',value:function(t){var e=this,a=document.body;t&&t.detail&&t.detail.container&&(a=t.detail.container);var s=a.querySelectorAll('.'+d);[].forEach.call(s,function(t){var a=e.getSessionId_(t);return a?void(e.bookmarks_[a]?(t.classList.add(d+'--exists'),t.setAttribute('aria-pressed','true')):(t.classList.remove(d+'--exists'),t.setAttribute('aria-pressed','false'))):void console.warn('Unable to find session id for bookmark',t)})}}],[{key:'init',value:function(t){return new e(t)}}]),e}();e.exports=c},,,,function(e,t,a){'use strict';var s=a(9),r=a(2),o=a(121),i=a(78),n=a(4),l=function(e,t){t.forEach(function(t){t.kind&&e.push({color:t.color,kind:t.kind,title:t.title,type:t.type,when:m(t.start,t.end)})})},d=function(e,t){t.forEach(function(t){e[t.id]={id:t.id,name:t.name,capacity:t.capacity,filter:t.filter}})},c=function(e,t){t.forEach(function(t){e[t.id]={color:t.color,contentLevels:u(t.tagNames),description:t.description,hashtag:t.hashtag,endTimestamp:t.endTimestamp,id:t.id,livestream:t.livestream,mainTag:h(t.mainTag),photoUrl:t.photoUrl,room:t.room,speakers:t.speakers,startTimestamp:t.startTimestamp,relatedSessions:t.relatedSessions,tags:p(t.tagNames),title:t.title,youtubeUrl:t.youtubeUrl,videoId:f(t.youtubeUrl),youtubeThumbnailUrl:b(t.youtubeUrl),when:m(t.startTimestamp,t.endTimestamp)}})},u=function(e){var e=p(e),t=[];return e?(e.forEach(function(e){'level'==e.type&&t.push(E(e.tag))}),t):[]},p=function(e){if(!e)return[];var t=[];return e.forEach(function(e){t.push(h(e))}),t},_=function(e,t){for(var a in t){var s=t[a];e[s.id]={bio:s.bio,company:s.company,id:s.id,name:s.name,socialLinks:s.socialLinks,thumbnailUrl:s.thumbnailUrl}}},h=function(e){if(!e)return{};e=e.toLowerCase();var t=e.split('_');return{type:t[0],tag:t[1]}},y=function(e,t){t.forEach(function(t){t.category=t.category.toLowerCase(),t.tag=t.tag.toLowerCase(),t.tag=t.tag.substr(t.category.length+1),e[t.category]||(e[t.category]={}),e[t.category][t.tag]={abstract:t.abstract,color:t.color,fontColor:t.fontColor,name:t.name,order_in_category:t.order_in_category,tag:t.tag}})},m=function(e,t){var a={end:{},start:{},diff:{}};if(e){var s=g(e);a.start.raw=s,a.start.day=s.getDate(),a.start.hours=s.getHours(),a.start.minutes=s.getMinutes()}if(t){var s=g(t);a.end.raw=s,a.end.day=s.getDate(),a.end.hours=s.getHours(),a.end.minutes=s.getMinutes()}return e&&t&&(a.diff.raw=a.end.raw-a.start.raw,a.diff.hours=a.diff.raw/1e3/60/60),a},g=function(e){var t=new Date(e),a=1e3*(60*t.getTimezoneOffset());return new Date(t.getTime()+-25200000+a)},f=function(e){return i.getParameterValue('v',e)},b=function(e){var t=i.getParameterValue('v',e);return'https://i1.ytimg.com/vi/'+t+'/maxresdefault.jpg'},E=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},v=function(e){this.baseUrl_=e,this.sessions_={},this.deferredLoading_=new n.Deferred,this.data_={blocks:[],rooms:{},sessions:{},speakers:{},tags:{}},this.loadSessions_()};v.prototype.loadSessions_=function(){o.get(this.baseUrl_).end(function(e,t){if(e||!t.ok)console.error('Unable to load schedule manifest.'),this.deferredLoading_.reject(e);else if(!t.body||!t.body.data_files)this.readScheduleFile_(JSON.parse(t.text)),this.deferredLoading_.resolve(),window.dispatchEvent(new s(r.SESSIONS_LOADED,{detail:{data:this.data_}})),this.verifyScheduleData_({rooms:!1,speakers:!1});else for(var a,n=0,l=t.body.data_files.length,d=0;d<t.body.data_files.length;d++)a=t.body.data_files[d],o.get(this.baseUrl_+a).end(function(e,t){e||!t.ok?(console.error('Unable to load schedule file.',a),reject(e)):(t.body?this.readScheduleFile_(t.body):this.readScheduleFile_(JSON.parse(t.text)),++n>=l&&(this.deferredLoading_.resolve(),window.dispatchEvent(new s(r.SESSIONS_LOADED,{detail:{data:this.data_}})),this.verifyScheduleData_()))}.bind(this))}.bind(this))},v.prototype.readScheduleFile_=function(e){e.blocks&&l(this.data_.blocks,e.blocks),e.rooms&&d(this.data_.rooms,e.rooms),e.sessions&&c(this.data_.sessions,e.sessions),e.speakers&&_(this.data_.speakers,e.speakers),e.tags&&y(this.data_.tags,e.tags)},v.prototype.verifyScheduleData_=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};for(var t in this.data_.sessions)if(this.data_.sessions.hasOwnProperty(t)){var a=this.data_.sessions[t];e.hasSpeakers&&a.speakers.forEach(function(e){this.data_.speakers[e]||console.warn('Missing data for speaker',e)}.bind(this)),e.hasRooms&&!this.data_.rooms[a.room]&&console.warn('Missing data for room',room)}},v.init=function(e){return new v(e)},e.exports=v},,,,,,,,,,function(e,t,a){'use strict';function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function s(r,o){try{var i=t[r](o),n=i.value}catch(e){return void a(e)}return i.done?void e(n):Promise.resolve(n).then(function(e){s('next',e)},function(e){s('throw',e)})}return s('next')})}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){var a,s=[],r=!0,o=!1;try{for(var i,n=e[Symbol.iterator]();!(r=(i=n.next()).done)&&(s.push(i.value),!(t&&s.length===t));r=!0);}catch(e){o=!0,a=e}finally{try{!r&&n['return']&&n['return']()}finally{if(o)throw a}}return s}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),i=function(){function e(e,t){for(var a,s=0;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),n=a(9),l=a(4),d=a(2),c='reservation',u='reserve-in-progress',p=t.ConfirmCopy={RESERVE:function(){return{title:'First time seat reservation',messages:['You\u2019re about to reserve your first seat for a Session at I/O! Some\n        things to know:','<ul>\n          <li>Only one reservation or waitlist is allowed per time block.</li>\n          <li>Sessions are no longer reservable 1 hour before the start\n          time.</li>\n          <li>A portion of seats for each Session will still be available\n          first-come, first-served onsite.</li>\n        </ul>']}},CANCEL:function(){return{title:'Cancel your seat reservation?',messages:['You\u2019re about to give up your seat for this Session. Seats might not be\n        available afterwards. Are you sure you want to release your seat for\n        this Session?','If you don\u2019t have a seat reserved but still want to attend, all\n        Sessions will have a portion of seats available first-come, first-served\n        onsite.']}},JOIN_WAITLIST:function(e){return{title:'Join the waitlist',messages:['You\u2019re about to join the waitlist for <strong>'+e+'</strong>.\n        If a spot opens up later on, we\u2019ll automatically change your reservation\n        status to reserved. A portion of seats for each session will still be\n        available first-come, first-served onsite.<br><br>Only one reservation\n        or waitlist is allowed per time block.']}},LEAVE_WAITLIST:function(e){var t;if(e!=void 0){var a=1==e?'person':'people',s=-1==e?'100+':e;t=['You have <strong>'+s+'</strong> '+a+' ahead of you in line at\n        the moment. Would you like to keep your spot in line, or leave the\n        waitlist for this Session?','If you don\u2019t get a confirmed seat for this Session, all rooms will have\n        a portion of seats available first-come, first-served onsite.']}else t=['You\u2019re about to give up your spot in line. Are you sure you want to leave\n        the waitlist for this Session?','If you decide not to reserve a seat but still want to attend, all\n        Sessions will have a portion of seats available first-come, first-served\n        onsite.'];return{title:'Leave the waitlist?',messages:t}},RESERVE_CONFLICT:function(e){return{title:'Reservation conflict',messages:['You already have a reserved seat/are on the waitlist for\n        <strong>'+e+'</strong> happening at this time. However, only\n        one reservation per time block is allowed. Do you want to release your\n        current seat reservation/waitlist and move forward with this request?']}}},_=t.ReserveType={RESERVED:'RESERVED',WAITLISTED:'WAITLISTED',NONE:'NONE'},h=t.ApiResponse={RESERVE_SUCCEEDED:'RESERVE_SUCCEEDED',RESERVE_WAITLISTED:'RESERVE_WAITLISTED',RESERVE_DENIED_CUTOFF:'RESERVE_DENIED_CUTOFF',RESERVE_DENIED_CLASH:'RESERVE_DENIED_CLASH',RESERVE_DENIED_UNKNOWN:'RESERVE_DENIED_UNKNOWN',SWAP_SUCCEEDED:'SWAP_SUCCEEDED',SWAP_WAITLISTED:'SWAP_WAITLISTED',SWAP_DENIED_CUTOFF:'SWAP_DENIED_CUTOFF',SWAP_DENIED_CLASH:'SWAP_DENIED_CLASH',SWAP_DENIED_UNKNOWN:'SWAP_DENIED_UNKNOWN',CANCEL_SUCCEEDED:'CANCEL_SUCCEEDED',CANCEL_DENIED_CUTOFF:'CANCEL_DENIED_CUTOFF',CANCEL_DENIED_UNKNOWN:'CANCEL_DENIED_UNKNOWN'},y={RESERVE:'RESERVE',CANCEL:'CANCEL',SWAP:'SWAP'},m=t.Reservations=function(){function e(t){var a=this;r(this,e),this.firebase_=t,this.auth_=window.authIO,this.queuedReservations_={},this.userEvents_={},this.reservedEvents_={},this.fullSessions_={},this.sessions_={},this.confirmEl_=document.querySelector('.confirm'),this.requestedSession_=null,this.db_=this.firebase_.firestore(),this.db_.collection('scheduleDetail').where('sessionFull','==',!0).onSnapshot(function(e){window.debugEnabled&&console.groupCollapsed('snapshot for \'/scheduleDetail/\' collection, docs: '+e.docs.length),a.fullSessions_={},e.docs.forEach(function(e){a.fullSessions_[e.id]=e.data(),window.debugEnabled&&console.log(e.data())}),window.debugEnabled&&console.groupEnd(),a.updateReservations_()},function(e){console.error('Error while grabbing scheduleDetail snapshot',e)}),window.addEventListener(d.SESSIONS_LOADED,function(t){return a.onSessionsLoaded(t)}),window.addEventListener(d.SCHEDULE_UPDATED,this.updateReservations_.bind(this),!1),document.body.addEventListener('click',function(t){return a.handleReservation_(t)}),this.auth_.firebaseUser.listen(function(){return a.loadReservations_()})}return i(e,null,[{key:'init',value:function(t){return new e(t)}}]),i(e,[{key:'loadReservations_',value:function(){var e=s(regeneratorRuntime.mark(function e(){var t,a,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.auth_.firebaseUser,e.next=3,t.deferredUser;case 3:if(a=e.sent,a){e.next=10;break}return this.userEvents_={},this.reservedEvents_={},this.fullSessions_={},this.updateReservations_(),e.abrupt('return');case 10:this.db_.collection('users').doc(a.uid).collection('events').onSnapshot(function(e){window.debugEnabled&&console.groupCollapsed('snapshot for \'/users/'+a.uid+'/events/\' collection, docs: '+e.docs.length),s.userEvents_={},s.reservedEvents_={},e.docs.forEach(function(e){var t=e.data();s.userEvents_[e.id]=t,s.sessionIsReserved_(t)&&(s.reservedEvents_[e.id]=t),window.debugEnabled&&console.log(t)}),window.debugEnabled&&console.groupEnd(),s.updateReservations_()},function(e){console.error('Error while grabbing user events snapshot',e)});case 11:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'onSessionsLoaded',value:function(t){this.sessions_=t.detail.data.sessions}},{key:'broadcastReservations_',value:function(){window.dispatchEvent(new n(d.RESERVATIONS_BROADCAST,{detail:{reservations:this.reservedEvents_}}))}},{key:'handleReservation_',value:function(){var e=s(regeneratorRuntime.mark(function t(a){var e,s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.getClosestClass(a.target,c),e){t.next=3;break}return t.abrupt('return');case 3:return s=this.getSessionId_(e),t.next=6,this.auth_.firebaseUser.deferredUser;case 6:if(r=t.sent,r){t.next=9;break}return t.abrupt('return');case 9:this.toggleReservation_(s);case 10:case'end':return t.stop();}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:'toggleReservation_',value:function(){var e=s(regeneratorRuntime.mark(function e(t){var a,s,r,i,n,l,d,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.debugEnabled&&console.group('toggling reservation for session with ID: '+t),this.auth_.registration.isRegistered){e.next=4;break}return window.debugEnabled&&console.warn('user is not registered, returning'),e.abrupt('return');case 4:a=this.reservedEvents_[t],window.debugEnabled&&console.log('looking for session in this.reservedEvents_: ',a),a?(window.debugEnabled&&console.log('session reservation status: '+a.reservationStatus),a.reservationStatus==_.WAITLISTED?(this.setIsLoading_(t,!0),s=firebase.functions().httpsCallable('placeInLine'),s({sessionId:t}).then(function(e){var a=e.data.placeInLine;c.showLeaveWaitlistModal_(t,a),c.setIsLoading_(t,!1)}).catch(function(e){c.showLeaveWaitlistModal_(t),c.setIsLoading_(t,!1),console.error('Error while excecuting \'placeInLine\' callable function',e)})):this.showCancelConfirmationModal_(t)):(r=this.checkConflicting_(t),i=o(r,2),n=i[0],l=i[1],window.debugEnabled&&console.log('checking for conflict:',n,'conflictingSession:',l),n?this.showSwapConfirmationModal_(t,l):(d=this.fullSessions_[t],localStorage&&!localStorage.getItem('__ioschd')?this.showFirstTimeModal_(t):d?this.showJoinWaitlistModal_(t,d):this.makeReservationRequest_(t,y.RESERVE))),window.debugEnabled&&console.groupEnd();case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'checkConflicting_',value:function(e){var t=this.sessions_[e].startTimestamp;for(var a in this.reservedEvents_){var s=this.reservedEvents_[a];if(s.startTime===t&&s.reservationStatus!==_.NONE)return[!0,this.sessions_[a]]}return[!1,null]}},{key:'makeReservationRequest_',value:function(){var e=s(regeneratorRuntime.mark(function e(t,a){var s,r,o,i,n=this,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.debugEnabled&&console.group('making reservation request'),window.debugEnabled&&console.log('session id: '+t+', action: '+a+', queue extras:',l),this.auth_.registration.isRegistered){e.next=5;break}return window.debugEnabled&&console.warn('user is not registered, returning'),e.abrupt('return');case 5:return this.requestedSessionId_=t,s=Object.assign({},l,{action:a,sessionId:t,requestId:'rr-'+(+new Date+Math.round(1e3*Math.random())),timestamp:new Date().getTime()}),r=this.auth_.firebaseUser,e.next=10,r.deferredUser;case 10:o=e.sent,window.debugEnabled&&console.log('queueing request for user id: '+o.uid+', with payload:',s),this.setIsLoading_(t,!0),this.db_.collection('queue').doc(o.uid).set(s),this.queueUnsub_=this.db_.collection('queue').doc(o.uid).onSnapshot(function(e){if(!1===e.metadata.hasPendingWrites&&'undefined'==typeof e.data()){var a=n.userEvents_[n.requestedSessionId_],s=a.reservationResult.requestResult;if(s===h.RESERVE_WAITLISTED||s===h.SWAP_WAITLISTED){var r=firebase.functions().httpsCallable('placeInLine');r({sessionId:t}).then(function(e){var a=e.data.placeInLine;n.showToast_(s,a),n.setIsLoading_(t,!1)}).catch(function(e){n.showToast_(s),n.setIsLoading_(t,!1),console.error('Error while excecuting \'placeInLine\' callable function',e)})}else n.setIsLoading_(t,!1),n.showToast_(s);n.queueUnsub_(),n.requestedSessionId_=null,window.debugEnabled&&console.log('queue request has been deleted, session: ',a,'request result:',s)}}),i=l.cancelSessionId?t+' for '+l.cancelSessionId:t,ga('send','event','Schedule : Reservations',a,i),window.debugEnabled&&console.groupEnd();case 18:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'showToast_',value:function(e,t){window.debugEnabled&&console.group('showing toast for request result: '+e);var a;e===h.RESERVE_SUCCEEDED||e===h.SWAP_SUCCEEDED?a='Your seat has been reserved.':e===h.RESERVE_WAITLISTED||e===h.SWAP_WAITLISTED?a=function(e){if(e){var t=1==e?'person is':'people are',a=-1==e?'100+':e;return'You\u2019ve been waitlisted for this Session. '+a+' '+t+' ahead of you in line. If a seat opens up, we\u2019ll automatically change your reservation status.'}return'You\u2019ve been waitlisted for this Session. If a seat opens up, we\u2019ll automatically change your reservation status.'}(t):e===h.LEAVE_WAITLIST?a='You\'ve been removed from the waitlist for this session.':e===h.CANCEL_SUCCEEDED?a='Your seat has been released.':e===h.RESERVE_DENIED_CLASH?a='Another session is reserved in this timeslot.':e===h.RESERVE_DENIED_CUTOFF||e===h.CANCEL_DENIED_CUTOFF||e===h.SWAP_DENIED_CUTOFF?a='The cutoff time for this event has passed, you can\u2019t make changes to your reservation anymore.':e===h.RESERVE_DENIED_UNKNOWN||e===h.CANCEL_DENIED_UNKNOWN||e===h.SWAP_DENIED_UNKNOWN?a='Your request couldn\u2019t be completed for unknown reasons, please try again.':void 0,window.debugEnabled&&console.log('toast message: ',a),a&&window.dispatchEvent(new n(d.TOAST_MESSAGE,{detail:{message:a,actions:[{label:'OK',action:'close'}],timeout:15e3}})),window.debugEnabled&&console.groupEnd()}},{key:'setIsLoading_',value:function(e,t){var a=document.querySelectorAll('[data-session="'+e+'"]');t?(document.body.classList.add(u),[].forEach.call(a,function(e){e.classList.add(c+'--reserving')})):(document.body.classList.remove(u),[].forEach.call(a,function(e){e.classList.remove(c+'--reserving')}))}},{key:'updateReservations_',value:function(t){var e=this;this.broadcastReservations_();var a=document.body;t&&t.detail&&t.detail.container&&(a=t.detail.container);var s=a.querySelectorAll('.'+c);[].forEach.call(s,function(t){var a=e.getSessionId_(t);return a?void e.updateUi_(t,a):void console.warn('Unable to find session id for reservation element',t)})}},{key:'updateUi_',value:function(e,t){var a=this.fullSessions_[t],s=this.userEvents_[t];if(a?e.classList.add(c+'--full'):e.classList.remove(c+'--full'),s)switch(s.reservationStatus){case _.RESERVED:e.classList.add(c+'--reserved'),e.classList.remove(c+'--waitlisted');break;case _.WAITLISTED:e.classList.remove(c+'--reserved'),e.classList.add(c+'--waitlisted');break;case _.NONE:e.classList.remove(c+'--reserved'),e.classList.remove(c+'--waitlisted');}}},{key:'sessionIsReserved_',value:function(e){return e.reservationStatus==_.RESERVED||e.reservationStatus==_.WAITLISTED}},{key:'getSessionId_',value:function(e){for(var t=null,a=e;a.parentNode&&null==t;)t=a.dataset.session||a.getAttribute('data-session')||null,a=a.parentNode;return t}},{key:'showFirstTimeModal_',value:function(e){var t=this,a=p.RESERVE();this.confirmEl_.dispatchEvent(new n(d.OPEN_CONFIRM,{detail:{title:a.title,messages:a.messages,actions:[{label:'Reserve',action:'close',on:{click:function(){localStorage.setItem('__ioschd',!0),t.makeReservationRequest_(e,y.RESERVE)}}},{label:'Cancel',action:'close'}],messageAsHTML:!0}})),ga('send','event','Schedule : Reservations : Modals','show','first reservation')}},{key:'showCancelConfirmationModal_',value:function(e){var t=this,a=p.CANCEL();this.confirmEl_.dispatchEvent(new n(d.OPEN_CONFIRM,{detail:{title:a.title,messages:a.messages,actions:[{label:'Release seat',action:'close',on:{click:function(){return t.makeReservationRequest_(e,y.CANCEL)}}},{label:'Keep my seat',action:'close'}]}})),ga('send','event','Schedule : Reservations : Modals','show','cancel reservation')}},{key:'showJoinWaitlistModal_',value:function(e,t){var a=this,s=p.JOIN_WAITLIST(t.title);this.confirmEl_.dispatchEvent(new n(d.OPEN_CONFIRM,{detail:{title:s.title,messages:s.messages,messageAsHTML:!0,actions:[{label:'Join waitlist',action:'close',on:{click:function(){return a.makeReservationRequest_(e,y.RESERVE)}}},{label:'Cancel',action:'close'}]}})),ga('send','event','Schedule : Reservations : Modals','show','join waitlist')}},{key:'showLeaveWaitlistModal_',value:function(e,t){var a=this,s=p.LEAVE_WAITLIST(t);this.confirmEl_.dispatchEvent(new n(d.OPEN_CONFIRM,{detail:{title:s.title,messages:s.messages,messageAsHTML:!0,actions:[{label:'Leave waitlist',action:'close',on:{click:function(){return a.makeReservationRequest_(e,y.CANCEL)}}},{label:'Stay in line',action:'close'}]}})),ga('send','event','Schedule : Reservations : Modals','show','leave waitlist')}},{key:'showSwapConfirmationModal_',value:function(e,t){var a=this,s=p.RESERVE_CONFLICT(t.title);this.confirmEl_.dispatchEvent(new n(d.OPEN_CONFIRM,{detail:{title:s.title,messages:s.messages,messageAsHTML:!0,actions:[{label:'Yes, release seat',action:'close',on:{click:function(){var t=a.checkConflicting_(e),s=o(t,2),r=s[1];a.makeReservationRequest_(e,y.SWAP,{reserveSessionId:e,cancelSessionId:r.id})}}},{label:'Cancel',action:'close'}]}})),ga('send','event','Schedule : Reservations : Modals','show','swap reservation - '+e+' for '+t.id)}}]),e}()},function(e,t,a){'use strict';var s=Math.max,r=a(9),o=a(1),i=a(31),n=a(30),l=a(2),d=a(14),c=a(4),u=a(77),p=u.getScrollPosY,_='bookmark',h='schedule__content--active',y='schedule__filter',m='schedule__filter--active',g='schedule__filter--expand',f='schedule__header__filter',b='schedule__header__filter--active',E='schedule__filter__header__close',v='schedule__filter__item',S='schedule__filter__item--active',k='schedule__filter__items',T='schedule__filter__section',C='schedule__filtered--active',L='schedule__grid',I='schedule__grid__cta',A='schedule__grid__day',w='schedule__grid__event',R='schedule__grid__events',O='header--stuck',D='schedule__header',x='schedule__header__tab',P='schedule__header__tab--active',N='schedule__header__tabs',q='schedule__header__tabs--expand',M='hidden',H='schedule__myio-toggle',B='reservation',U='schedule__tag',F='schedule__tag__label',W='schedule__tag__circle',V='share',K=V+'--expand',G='share__icon',j='session__icon',z='speaker__item',Y=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],Q=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],J=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],X=function(e,t){var a=t?Y[e.getDay()]+'.':Q[e.getDay()]+',';return a+' '+J[e.getMonth()]+' '+e.getDate()},Z=function(e){var t=11<e.hours?'PM':'AM',a=12<e.hours?e.hours-12:e.hours,s=9<e.minutes?e.minutes:'0'+e.minutes,r=0<e.minutes?':'+s:'';return a+r+t},$=function(e,t,a){for(var s in e){var r=e[s];if(!r.type!=t)for(var o in a)if(a[o]==r.tag)return!0}return!1},ee=function(e,t){e.sort(function(e,a){var s=e[t],r=a[t];return s<r?-1:s>r?1:0})},te=function(e,t){e.sort(function(e,a){var s=parseInt(e.getAttribute(t)),r=parseInt(a.getAttribute(t));return s-r})},ae=function(e,t){var a=e.when.start.raw,s=t.when.start.raw;if(a<s)return-1;if(a>s)return 1;var r=e.title,o=t.title;return r<o?-1:r>o?1:0},se=function(e){var t=this;this.loadedPromise_=new c.Deferred,this.lastTab_=null,this.currentSessionId_=null,this.currentSpeakerId_=null,this.modalIsOpen_=!1,this.isFilterResetActive_=!1,this.defaultTitle_=document.title,this.ignoreParams_=['sid','section','speaker','livestream'],this.isSortedByStartTime=!0,this.filterOrder_=0,this.isMyIO_=!1,this.bookmarks_=[],this.reservations_=[],this.el=e,this.data_=null,this.filter_={},this.contentEls_=e.querySelectorAll('.schedule__content'),this.headerButtonEls_=e.querySelector('.schedule__header__buttons'),this.filterEl_=e.querySelector('.'+y),this.myIoToggleEl_=e.querySelector('.'+H),this.filterToggleEl_=e.querySelector('.'+f),this.filterClearEl_=e.querySelector('.schedule__filter__header__clear a'),this.filterCloseEl_=e.querySelector('.'+E+' a'),this.filterCountEl_=e.querySelector('.schedule__filter__count'),this.filterSectionsEl_=e.querySelector('.schedule__filter__sections'),this.filterSectionsTopicsEl_=e.querySelector('.schedule__filter__sections__topics'),this.filteredEl_=e.querySelector('.schedule__filtered'),this.filteredClearEl_=e.querySelector('.schedule__filtered__clear a'),this.filteredDescriptionEl_=e.querySelector('.schedule__filtered__description span'),this.gridEl_=document.querySelector('.'+L),this.headerEl_=document.querySelector('.header'),this.modalOnboardingEl_=document.querySelector('.modal__onboarding'),this.modalSessionEl_=document.querySelector('.modal__session'),this.modalSpeakerEl_=document.querySelector('.modal__speaker'),this.modalSignInEl_=document.querySelector('.modal__signin'),this.modalShareEl_=document.querySelector('.modal__share'),this.scheduleHeaderEl_=document.querySelector('.'+D),this.scheduleHeaderSpacerEl_=document.querySelector('.schedule__header__spacer'),this.scheduleSessionEl_=document.querySelector('.schedule__session'),this.tabEls_=e.querySelectorAll('.'+x),this.tabsEl_=e.querySelector('.'+N),this.timeBarEl_=e.querySelector('.schedule__timetable__content'),this.spacerEl_=e.querySelector('.schedule__timetable__content--spacer'),this.eventTem_=document.body.querySelector('#schedule_event'),this.eventsTem_=document.body.querySelector('#schedule_events'),this.filterItemTem_=document.body.querySelector('#schedule_filter_item'),this.filterItemToggleTem_=document.body.querySelector('#schedule_filter_item_toggle'),this.filterSectionTem_=document.body.querySelector('#schedule_filter_section'),this.sectionTem_=document.body.querySelector('#schedule_section'),this.sessionTem_=document.body.querySelector('#session_detail'),this.sectionDayTem_=document.body.querySelector('#schedule_day'),this.sessionIconTem_=document.body.querySelector('#session_icon'),this.speakerItemTem_=document.body.querySelector('#speaker_item'),this.speakerTem_=document.body.querySelector('#speaker_detail'),this.statusTem_=document.body.querySelector('#schedule_status'),this.bannerOffset_=this.computeBannerOffset_()||0,this.gridDaysEls_=[],this.scrollMap_={},this.scroller_=d.get({anchorClass:A,headerClass:D,beforeFn:function(){return t.userScroll_=!1},afterFn:function(){return t.userScroll_=!0}}).schedule,o.mimicTabs(this.tabsEl_),this.addEventListeners_(),this.createFilter_(),this.updateFilter_(),this.updateHeader_(),this.updateInitial_(),this.handleOnboardingModalShow_()};se.prototype.addEventListeners_=function(){var t=this;window.addEventListener(l.OPTIMIZED_SCROLL,function(){t.updateHeader_(),t.scrollSpy_()}),window.addEventListener(l.HIDE_BANNER,function(){t.computeBannerOffset_(),t.updateHeader_()}),window.addEventListener(l.SCHEDULE_UPDATED,function(a){t.updateScrollMap_(a),t.scrollSpy_()}),window.addEventListener(l.OPTIMIZED_RESIZE,function(a){t.updateScrollMap_(a)}),window.addEventListener('click',this.toggleSocialShare_.bind(this)),window.addEventListener('keydown',o.mimicButton(this.toggleSocialShare_.bind(this))),this.tabsEl_.addEventListener('click',this.handleTabs_.bind(this)),this.tabsEl_.addEventListener('keydown',o.mimicButton(this.handleTabs_.bind(this))),this.myIoToggleEl_.addEventListener('click',this.toggleMyIO_.bind(this)),this.filterToggleEl_.addEventListener('click',this.toggleFilter_.bind(this)),this.filterToggleEl_.addEventListener('keydown',o.mimicButton(this.toggleFilter_.bind(this))),this.filterEl_.addEventListener('click',this.toggleFilterItem_.bind(this)),this.filterEl_.addEventListener('keydown',o.mimicButton(this.toggleFilterItem_.bind(this))),window.addEventListener('click',this.closeOverlayFilter_.bind(this)),this.filterClearEl_.addEventListener('click',this.clearFilter_.bind(this)),this.filteredClearEl_.addEventListener('click',this.clearFilter_.bind(this)),this.gridEl_.addEventListener('click',this.showSessionItem_.bind(this)),this.gridEl_.addEventListener('keydown',o.mimicButton(this.showSessionItem_.bind(this))),this.modalOnboardingEl_.addEventListener(l.MODAL_HIDE,this.handleOnboardingModalHide_.bind(this)),this.modalSessionEl_.addEventListener(l.MODAL_HIDE,this.handleModalHide_.bind(this)),this.modalSessionEl_.addEventListener(l.MODAL_SHOW,this.handleModalShow_.bind(this)),this.modalSpeakerEl_.addEventListener(l.MODAL_HIDE,this.handleSpeakerModalHide_.bind(this)),this.modalSpeakerEl_.addEventListener(l.MODAL_SHOW,this.handleSpeakerModalShow_.bind(this)),window.addEventListener(l.BOOKMARKS_BROADCAST,this.updateBookmarks_.bind(this),!1),window.addEventListener(l.RESERVATIONS_BROADCAST,this.updateReservations_.bind(this),!1),window.addEventListener(l.SESSIONS_LOADED,this.updateSessions_.bind(this),!1),window.addEventListener('popstate',this.handlePopState_.bind(this),!1)},se.prototype.computeBannerOffset_=function(){var e=document.querySelector('.note-banner');return e?(this.bannerOffset_=e.offsetHeight,this.bannerOffset_):(this.bannerOffset_=0,0)},se.prototype.animateScroll_=function(){var e;e=this.lastTab_&&'may-8'!=this.lastTab_&&'agenda'!=this.lastTab_?document.getElementById(this.lastTab_):this.el,this.scroller_.animateScroll(e)},se.prototype.clearFilter_=function(t){t&&t.preventDefault();var e=this.el.querySelectorAll('.'+v);[].forEach.call(e,function(e){e.classList.remove(S),e.setAttribute('aria-pressed','false')}),this.updateFilter_()},se.prototype.closeOverlayFilter_=function(t){var e=c.getClosestClass(t.target,q);e||this.tabsEl_.classList.remove(q);var a=c.getClosestClass(t.target,f);if(!a){var a=c.getClosestClass(t.target,c.isMobile()?'schedule__filter__content':y),s=c.getClosestClass(t.target,E);a&&!s||this.toggleFilter_(void 0,!0)}},se.prototype.createFilter_=function(){var e=function(e,t,a){var s=document.importNode(this.filterSectionTem_.content,!0),r=s.querySelector('.'+T),o=s.querySelector('.'+'schedule__filter__section__header');return o.textContent=e,r.classList.add(T+'--'+e.toLowerCase()),t&&r.classList.add(T+'--highlight'),a&&(r.classList.add(T+'--split'),o.remove()),s}.bind(this),t=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!e.isToggle){var t=document.importNode(this.filterItemTem_.content,!0),a=t.querySelector('.'+v),s=a.querySelector('.'+W);if(e.highlight){a.classList.add(U,U+'--'+e.label.split(' ').join('-').toLowerCase());a.querySelector('span').style.backgroundColor=e.highlight;s.style.backgroundColor=e.highlight}else a.classList.add(v+'--no-circle')}else var t=document.importNode(this.filterItemToggleTem_.content,!0),a=t.querySelector('.'+v);var r=a.querySelector('.'+F);return r.textContent=e.label,a.setAttribute('aria-label',e.label),a.dataset.type=e.type,a.dataset.value=e.value,e.isActive&&a.classList.add(S),t}.bind(this);this.loadedPromise_.promise.then(function(){var a,s;a=e('Livestream'),s=a.querySelector('.'+k),s.appendChild(t({type:'livestream',label:'livestream',value:'true',isToggle:!0})),this.filterSectionsEl_.appendChild(a),a=e('Topics',!0),s=a.querySelector('.'+k);var r=[];for(var n in this.data_.tags.topic)if(this.data_.tags.topic.hasOwnProperty(n)){var l=this.data_.tags.topic[n];l.color&&r.push(l)}ee(r,'name');for(var d=0;d<r.length;d++)s.appendChild(t({type:'topic',value:r[d].tag,label:r[d].name,highlight:r[d].color}));this.filterSectionsEl_.appendChild(a),a=e('Types'),s=a.querySelector('.'+k);var i=[];for(var n in this.data_.tags.type)this.data_.tags.type.hasOwnProperty(n)&&i.push(this.data_.tags.type[n]);ee(i,'name');for(var d=0;d<i.length;d++)s.appendChild(t({type:'type',value:i[d].tag,label:i[d].name,highlight:'#999'}));this.filterSectionsEl_.appendChild(a),a=e('Locations'),s=a.querySelector('.'+k);var c=[];for(var n in this.data_.rooms)if(this.data_.rooms.hasOwnProperty(n)){var u=this.data_.rooms[n];u.filter&&c.push(u)}ee(c,'name');for(var d=0;d<c.length;d++)s.appendChild(t({type:'room',value:c[d].id,label:c[d].name,capacity:c[d].capacity}));this.filterSectionsEl_.appendChild(a),a=e('Level'),s=a.querySelector('.'+k);var p=[];for(var n in this.data_.tags.level)this.data_.tags.level.hasOwnProperty(n)&&p.push(this.data_.tags.level[n]);ee(p,'order_in_category');for(var d=0;d<p.length;d++)s.appendChild(t({type:'level',value:p[d].tag,label:p[d].name}));this.filterSectionsEl_.appendChild(a),o.makeRingless(this.filterSectionsEl_.querySelectorAll('[role=button]'))}.bind(this))},se.prototype.createEventEl_=function(e,t){var a=document.importNode(this.eventTem_.content,!0),s=a.querySelector('.'+w),r=a.querySelector('.'+'schedule__grid__event__title'+' a');r.textContent=e.title,r.href='?sid='+e.id;var o=a.querySelector('.'+_),i=e.id&&'__'==e.id.substring(0,2),n=e.tags&&0<e.tags.filter(function(e){return'type'==e.type&&'sessions'==e.tag}).length;(i||!e.id)&&o.parentNode.removeChild(o),e.id&&(s.dataset.session=e.id,s.dataset.isSession=n,o.setAttribute('aria-label','Bookmark '+e.title));var l=a.querySelector('.'+'schedule__grid__event__tag');if(e.tags){var d=e.tags.filter(function(e){return'topic'===e.type});ee(d,'tag'),this.createSessionTags_(d,l,!1)}if(e.kind){var c=document.importNode(this.sessionIconTem_.content,!0),u=c.querySelector('.'+j);u.classList.add(j+'--'+e.kind),u.style.backgroundColor=e.color,l.parentNode.replaceChild(c,l)}var p='';e.room&&(p+=this.data_.rooms[e.room].name);var h=a.querySelector('.'+'schedule__grid__event__description');return h&&(h.textContent=p),e.livestream&&(h.classList.add('schedule__grid__event__description--livestream'),h.setAttribute('aria-label','Will be available for livestream')),t&&s.setAttribute('role','listitem'),a},se.prototype.createSessionTags_=function(e,t,a){var s=['topic','type','level'];e.forEach(function(e){if(!(0>s.indexOf(e.type))){var r,o=document.importNode(this.filterItemTem_.content,!0),i=o.querySelector('.'+v),n=o.querySelector('.'+F),l=o.querySelector('.'+W);if(this.data_.tags[e.type]&&this.data_.tags[e.type][e.tag]){var d=this.data_.tags[e.type][e.tag];r=d.name;var c=d.color;c||('type'==e.type?c='':c='#DFE1E5'),l.style.backgroundColor=c}else r=e.tag;n.textContent=r,a||(i.removeAttribute('role'),i.setAttribute('tabindex','-1'),i.removeAttribute('aria-pressed')),t.appendChild(o)}}.bind(this))},se.prototype.createSpeakerEl_=function(e,t){if(!e)return null;t=t||{};var a=document.importNode(this.speakerItemTem_.content,!0),s=a.querySelector('.'+'speaker__item__name'),r=a.querySelector('.'+'speaker__item__thumbnail'),o=a.querySelector('.'+'speaker__item__title');if(s.textContent=e.name,o.textContent=e.company,e.thumbnailUrl)r.style.backgroundImage='url('+e.thumbnailUrl+')';else{var i=t.imageIndex?t.imageIndex:0;r.style.backgroundImage='url(/io/static/svg/person_'+i%3+'.svg)'}return a},se.prototype.removeFilteredItem_=function(e,t){var a=this.getFilterState_(),s=a.filter[e],r=s.indexOf(t);-1<r&&a.filter[e].splice(r,1),this.setFilterState_(a.filter)},se.prototype.filterSessions_=function(){var e=this.filter_,t=this.getFilterState_(),a=t.filter,s=t.labels,r=[],o=document.createElement('span');if(o.classList.add('schedule__filtered__labels'),s.length){for(this.filteredEl_.classList.add(C);this.filteredDescriptionEl_.firstChild;)this.filteredDescriptionEl_.removeChild(this.filteredDescriptionEl_.firstChild);te(s,'data-order'),s.forEach(function(e){o.appendChild(e),e.addEventListener('click',function(){var t=e.dataset.type,a=e.dataset.value;this.removeFilteredItem_(t,a)}.bind(this))}.bind(this)),this.filteredDescriptionEl_.appendChild(o)}else this.filteredEl_.classList.remove(C);for(var n in this.data_.sessions)if(this.data_.sessions.hasOwnProperty(n)){var l=this.data_.sessions[n];if(e.day&&l.when.start.day!=e.day)continue;var d=!0;for(var c in a){var u=!1;switch(c){case'theme':case'topic':case'level':case'type':u=$(l.tags,c,a[c]);break;case'room':for(var p in a[c])a[c][p]==l.room&&(u=!0);break;case'livestream':l.livestream&&(u=!0);break;default:console.warn('Attempting to filter by unknown type:',c),u=!1;}u||(d=!1)}if(!d)continue;r.push(l)}return this.isSortedByStartTime?r.sort(ae):ee(r,'title'),r},se.prototype.filterSessionsBySpeaker_=function(e){var t=[];for(var a in this.data_.sessions)if(this.data_.sessions.hasOwnProperty(a)){var s=this.data_.sessions[a],r=!1;if(s.speakers)for(var o=0;o<s.speakers.length;o++)if(e==s.speakers[o]){r=!0;break}if(!r)continue;t.push(s)}return this.isSortedByStartTime?t.sort(ae):ee(t,'title'),t},se.prototype.getFilterState_=function(){var e={},t=[],a=this.filterSectionsEl_.querySelectorAll('[aria-pressed=true]');return[].forEach.call(a,function(a){var s=a.dataset.type;e[s]||(e[s]=[]),e[s].push(a.dataset.value);var r=a.cloneNode(!0);t.push(r)}),te(t,'data-order'),{labels:t,filter:e}},se.prototype.handleModalHide_=function(){this.userScroll_=!0,this.currentSessionId_=null,this.modalIsOpen_=!1,document.title=this.defaultTitle_,(!history.state||history.state.sessionId)&&this.pushState_(this.currentSessionId_,this.currentSpeakerId_,this.lastTab_)},se.prototype.handleModalShow_=function(){this.modalIsOpen_=!0,this.userScroll_=!1},se.prototype.handleSpeakerModalHide_=function(){this.currentSpeakerId_=null,this.modalSpeakerIsOpen_=!1,document.title=this.defaultTitle_,(!history.state||history.state.speakerId)&&this.pushState_(this.currentSessionId_,this.currentSpeakerId_,this.lastTab_)},se.prototype.handleSpeakerModalShow_=function(){this.modalSpeakerIsOpen_=!0},se.prototype.handleOnboardingModalShow_=function(){var e=localStorage&&!localStorage.getItem('__ioschd__loaded')&&c.isMobile();e&&this.modalOnboardingEl_.dispatchEvent(new Event(l.MODAL_SHOW))},se.prototype.handleOnboardingModalHide_=function(){localStorage.setItem('__ioschd__loaded',!0)},se.prototype.handlePopState_=function(t){t.state&&(t.state.hash&&this.switchTab_(t.state.hash,!0),t.state.sessionId&&this.data_.sessions[t.state.sessionId]?this.showSession_(this.data_.sessions[t.state.sessionId]):this.modalSpeakerIsOpen_?this.modalSpeakerEl_.dispatchEvent(new Event(l.MODAL_HIDE)):this.modalIsOpen_&&this.modalSessionEl_.dispatchEvent(new Event(l.MODAL_HIDE)),t.state.filter&&this.setFilterState_(t.state.filter))},se.prototype.handleTabs_=function(t){var e=c.getClosestClassUntil(t.target,x,N);e&&(this.switchTab_(e.dataset.day||e.dataset.tab),this.animateScroll_())},se.prototype.pushState_=function(e,t,a){var s={hash:a,sessionId:e,speakerId:t,filter:this.getFilterState_().filter};if(!(history.state&&JSON.stringify(history.state)==JSON.stringify(s))){var r=function(){var e='?';return function(){var t=e;return e='&',t}}(),o='';for(var n in s.hash&&(o+=r()+'section='+s.hash),s.sessionId&&(o+=r()+'sid='+s.sessionId),s.speakerId&&(o+=r()+'speaker='+s.speakerId),s.speakerId?this.updateSocialShareLinks_('speaker',s.speakerId):s.sessionId&&this.updateSocialShareLinks_('session',s.sessionId),s.filter)if(s.filter.hasOwnProperty(n)){var l=s.filter[n];for(var d in l)o+=r()+n+'='+encodeURIComponent(l[d])}var i=c.QueryString();for(var u in i)i.hasOwnProperty(u)&&u&&!this.ignoreParams_.includes(u)&&(o+=r()+u+'='+encodeURIComponent(i[u]));history.pushState(s,'',o)}},se.prototype.renderSessionList_=function(e,t){for(var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=null,i=null,n=null,d=null,u=null,p=c.isMobile();e.firstChild;)e.removeChild(e.firstChild);if(a.isEmbedded&&e.classList.add('grid--embedded'),[].forEach.call(t,function(t){if(t.room){var r=this.data_.rooms[t.room].name;if('Stage 0'==r)return}var o=11<t.when.start.hours?'PM':'AM',l=X(t.when.start.raw,p),c=''+(13>t.when.start.hours?t.when.start.hours:t.when.start.hours-12)+(0<t.when.start.minutes?':'+t.when.start.minutes:'');if(a.splitDays&&n!=l){n=l;var _=document.importNode(this.sectionDayTem_.content,!0),h=_.querySelector('.'+A),y=_.querySelector('.'+'schedule__grid__date'),m=_.querySelector('.'+I+' a'),g=('#'+J[t.when.start.raw.getMonth()]+'-'+t.when.start.day).toLowerCase();h.setAttribute('data-scroll',''),h.id=g.slice(1),y.textContent=n,e.appendChild(_)}if(!a.useSections)d||(d=document.importNode(this.eventsTem_.content,!0),u=d.querySelector('.'+R),e.appendChild(d));else if(i!=c||s!=o){d=document.importNode(this.sectionTem_.content,!0),i=c,s=o;var f=d.querySelector('.'+'schedule__grid__time');f.textContent=i+' ';var b=document.createElement('span');b.textContent=s,f.appendChild(b),u=d.querySelector('.'+R),e.appendChild(d)}var E=this.createEventEl_(t,a.isEmbedded);a.isEmbedded&&(u.setAttribute('role','list'),u.setAttribute('aria-label','Related events')),u.appendChild(E)}.bind(this)),!t.length){var _=document.importNode(this.statusTem_.content,!0),h=_.querySelector('.'+'schedule__status');h.textContent='0 results match your filters. The schedule will be updated up until the event so check back often.',e.appendChild(_)}u&&o.makeRingless(u.querySelectorAll('[role=button]')),a.preventDispatch||window.dispatchEvent(new r(l.SCHEDULE_UPDATED,{detail:{container:e}}))},se.prototype.setFilterState_=function(e){this.isFilterResetActive_=!0;var t=this.filterEl_.querySelectorAll('.'+v);[].forEach.call(t,function(t){var a=t.dataset.type,s=t.dataset.value,r='true'===t.getAttribute('aria-pressed');a in e&&e[a].includes(s)?!r&&t.click():r&&(ga('send','event','Schedule : Filter Bar','toggle off',t.getAttribute('aria-label')),t.click())}),this.isFilterResetActive_=!1,this.updateFilter_()},se.prototype.showDayCta_=function(t){var e=c.getClosestClassUntil(t.target,I,L);if(e){aEl=e.querySelector('a');var a=aEl.href.split('#')[1];a&&(this.switchTab_(a),this.animateScroll_(),t.preventDefault())}},se.prototype.showSession_=function(e,t){if(e){for(this.currentSessionId_=e.id;this.scheduleSessionEl_.firstChild;)this.scheduleSessionEl_.removeChild(this.scheduleSessionEl_.firstChild);this.currentSessionIconEl&&(this.currentSessionIconEl.style.display='none');var a=document.importNode(this.sessionTem_.content,!0),s=a.querySelector('.'+'session'),o=e.tags&&0<e.tags.filter(function(e){return'type'==e.type&&'sessions'==e.tag}).length;s.dataset.session=e.id,s.dataset.isSession=o;var n=new Date,d=s.querySelector('.'+'session__hero'),u=e.tags.filter(function(e){return'type'==e.type});if(0<u.length){var p=u[0].tag;if(this.currentSessionIconEl=s.querySelector('.'+'session__icon__animated'+'--'+p),this.currentSessionIconEl){this.currentSessionIconEl.style.display='block';var h=this.currentSessionIconEl.querySelector('svg');window.dispatchEvent(new r(l.ANIMATE_ICON,{detail:{icon:h}}))}}document.title=e.title+' - '+this.defaultTitle_,a.querySelector('.'+'session__title').textContent=e.title,a.querySelector('.'+'session__time').textContent=X(e.when.start.raw,!0)+', '+Z(e.when.start)+' - '+Z(e.when.end),a.querySelector('.'+'session__description').textContent=e.description;var y=a.querySelector('.'+_);y.setAttribute('aria-label','Bookmark '+e.title);var m=a.querySelector('.'+B);m.setAttribute('aria-label','Reserve '+e.title),e.room&&(a.querySelector('.'+'session__location').textContent=this.data_.rooms[e.room].name);var g=e.when.start.raw>=n&&e.when.end.raw<=n,f=a.querySelector('.'+'session__hero__video');if(e.youtubeUrl&&g){var b=f.querySelector('a');b.href=e.youtubeUrl}else f.parentNode.removeChild(f);var E=a.querySelector('.'+'session__location-livestream');e.livestream?(e.youtubeUrl&&E.dataset.livestream&&(E.href=e.youtubeUrl),E.setAttribute('aria-label','Will be available for livestream')):E.classList.add(M);var v=a.querySelector('.'+'session__content-level');if(e.contentLevels&&0<e.contentLevels.length?v.textContent=e.contentLevels.join(', '):v.classList.add(M),e.tags){var S=a.querySelector('.'+'session__tags'),k=e.tags.filter(function(e){return'topic'===e.type});ee(k,'tag'),this.createSessionTags_(k,S,!1)}if(e.relatedSessions&&e.relatedSessions.length){for(var T=a.querySelector('.'+'session__related'),C=T.querySelector('.'+L),I=[],A=0;A<e.relatedSessions.length;A++){var i=e.relatedSessions[A],w=this.data_.sessions[i];I.push(w)}this.isSortedByStartTime?I.sort(ae):ee(I,'title'),this.renderSessionList_(C,I,{useSections:!0,isEmbedded:!0,splitDays:!0,preventDispatch:!0}),T.classList.remove(M)}if(e.speakers.length){var R=a.querySelector('.'+'session__speakers');R.setAttribute('role','list'),R.setAttribute('aria-label','Session speakers');for(var A=0;A<e.speakers.length;A++){var O=A,D=e.speakers[A],x=this.data_.speakers[D],P=this.createSpeakerEl_(x,{imageIndex:O});if(P){var N=P.querySelector('.'+z);N.setAttribute('aria-label',x.name),N.setAttribute('role','listitem'),N.setAttribute('data-image',O),N.addEventListener('click',function(t){return function(a){a.preventDefault();var e=c.getClosestClass(a.target,z),s=e.dataset.image;this.showSpeaker_(t,a,s)}.bind(this)}.bind(this)(x)),R.appendChild(P)}}R.classList.remove(M)}if('__'==e.id.substring(0,2)){var q=a.querySelector('.'+_);q.parentNode.removeChild(q)}this.scheduleSessionEl_.appendChild(a),this.modalSessionEl_.dispatchEvent(new r(l.MODAL_SHOW,{detail:{originalEvent:t}})),window.dispatchEvent(new r(l.SCHEDULE_UPDATED,{detail:{container:this.modalSessionEl_}})),history.state&&history.state.sessionId==e.id||this.pushState_(e.id,this.currentSpeakerId_,this.lastTab_),ga('send','event','Schedule : Session','open',e.title)}},se.prototype.showSessionItem_=function(t){var e=c.getClosestClass(t.target,_),a=c.getClosestClass(t.target,B);if(!(e||a)){var s=c.getClosestClassUntil(t.target,w,L);s&&s.dataset.session&&(t.preventDefault(),this.showSession_(this.data_.sessions[s.dataset.session],t))}},se.prototype.showSpeaker_=function(e,t,a){this.currentSpeakerId_=e.id;for(var s=this.modalSpeakerEl_.querySelector('.'+'speaker__details');s.firstChild;)s.removeChild(s.firstChild);var o=document.importNode(this.speakerTem_.content,!0),i=o.querySelector('.'+'speaker'),n=i.querySelector('.'+'speaker__name');document.title=e.name+' - '+this.defaultTitle_;var d=this.createSpeakerEl_(e,{size:96,imageIndex:a});n.appendChild(d);var c=i.querySelector('.'+'speaker__links'),u=!1;if(e.socialLinks)for(var p in e.socialLinks)if(e.socialLinks[p].length){u=!0;var _=document.createElement('a');_.setAttribute('href',e.socialLinks[p]),_.innerText=p+' ',c.appendChild(_)}u||c.classList.add(M);var h=i.querySelector('.'+'speaker__bio');if(!e.bio)h.parentNode.removeChild(h);else{var y=document.createElement('p');y.textContent=e.bio,h.appendChild(y)}var m=i.querySelector('.'+L),g=this.filterSessionsBySpeaker_(e.id);this.renderSessionList_(m,g,{useSections:!0,isEmbedded:!0,splitDays:!0,preventDispatch:!0}),s.appendChild(o),this.modalSpeakerEl_.dispatchEvent(new r(l.MODAL_SHOW,{detail:{originalEvent:t}})),history.state&&history.state.speakerId==e.id||this.pushState_(this.currentSessionId_,e.id,this.lastTab_)},se.prototype.switchTab_=function(e,t){'agenda'==e?(this.headerButtonEls_.classList.add(M),this.currentTab_=null,this.toggleFilter_(void 0,!0)):(this.headerButtonEls_.classList.remove(M),this.currentTab_=document.getElementById(e));var a=e;[].forEach.call(this.tabEls_,function(t){t.dataset.tab==e?t.classList.add(P):t.dataset.day==e?(a=t.dataset.tab,t.classList.add(P)):t.classList.remove(P)}),[].forEach.call(this.contentEls_,function(e){e.dataset.tab==a?e.classList.add(h):e.classList.remove(h)}),this.toggleFilter_(void 0,!0),this.lastTab_=e;t||window.location.hash=='#'+e||this.pushState_(this.currentSessionId_,this.currentSpeakerId_,e),this.updateHeader_()},se.prototype.toggleSocialShare_=function(t){var e=c.getClosestClass(t.target,V);if(c.isMobile()&&e)this.modalShareEl_.dispatchEvent(new Event(l.MODAL_SHOW));else{var a=document.querySelector('.'+K),s=t.target&&(t.target.classList.contains(G)||t.target.parentNode.classList.contains(G));if(s&&a||!e&&a){var r=a.querySelector('.'+G);a.classList.remove(K),r.setAttribute('tabindex','-1'),a.setAttribute('aria-pressed',!1)}else if(s&&!a){var r=e.querySelector('.'+G);e.classList.add(K),r.setAttribute('tabindex','0'),e.setAttribute('aria-pressed',!0)}}},se.prototype.updateSocialShareLinks_=function(e,t){var a={google:'https://plus.google.com/share?url=https%3A//events.google.com/io/schedule/?',facebook:'https://www.facebook.com/sharer/sharer.php?u=https%3A//events.google.com/io/schedule/?',twitter:'https://twitter.com/intent/tweet?text=',email:'mailto:?'};switch(e){case'session':var s=this.data_.sessions[t];a.google+='sid='+s.id,a.facebook+='sid='+s.id;var r='Check out '+s.title+' happening at #io18 on May '+s.when.start.day;a.twitter+=encodeURIComponent(r);var o='https://events.google.com/io/schedule/?sid='+s.id;a.twitter+='&url='+encodeURIComponent(o);var n=encodeURIComponent('Explore the Google I/O schedule'),l='Check out '+s.title+' happening at #io18 on May '+s.when.start.day+'.\n';if(s.speakers&&s.speakers.length){l+='\nSpeakers(s): ';for(var d=0;d<s.speakers.length;d++){var i=s.speakers[d],c=this.data_.speakers[i].name;l+=''+c,d!==s.speakers.length-1&&(l+=',')}l+='\n'}l+='\n https://events.google.com/io/schedule/?sid='+s.id,l=encodeURIComponent(l),a.email+='subject='+n+'&body='+l;break;case'speaker':var u=this.data_.speakers[t];a.google+='speaker='+u.id,a.facebook+='speaker='+u.id;var r=u.name+' will be presenting at #io18';a.twitter+=encodeURIComponent(r);var o='https://events.google.com/io/schedule/?sid='+u.id;a.twitter+='&url='+encodeURIComponent(o);var n=encodeURIComponent('Explore the Google I/O schedule'),l=encodeURIComponent(u.name+' will be presenting at #io18 \n\n https://events.google.com/io/schedule/?speaker='+u.id);a.email+='subject='+n+'&body='+l;break;default:}var p=document.body.querySelectorAll('.'+'share__social');[].forEach.call(p,function(e){for(var t in a){var s=e.querySelector('[data-social-share='+t+']');s.href=a[t]}})},se.prototype.toggleFilter_=function(t,e){t&&t.preventDefault();var a=this.filterToggleEl_.querySelector('button');e?(this.filterToggleEl_.classList.remove(b),this.filterEl_.classList.remove(m),this.filterEl_.classList.remove(g),this.filterEl_.setAttribute('aria-hidden','true'),this.filterEl_.setAttribute('tabindex','-1'),a.setAttribute('aria-pressed','false')):(this.filterToggleEl_.classList.toggle(b),this.filterEl_.classList.toggle(m),this.filterEl_.classList.toggle(g),this.filterEl_.setAttribute('aria-hidden','false'),this.filterEl_.setAttribute('tabindex','0'),a.setAttribute('aria-pressed',this.filterToggleEl_.classList.contains(b)))},se.prototype.toggleFilterItem_=function(t){var e=c.getClosestClassUntil(t.target,v,y),a=0!=t.screenX&&0!=t.screenY;e&&(e.classList.toggle(S),e.classList.contains(S)?(e.setAttribute('aria-pressed','true'),e.setAttribute('data-order',this.filterOrder_),this.filterOrder_+=1,a&&ga('send','event','Schedule : Filter Sidebar','toggle on',e.getAttribute('aria-label'))):(e.setAttribute('aria-pressed','false'),e.removeAttribute('data-order'),a&&ga('send','event','Schedule : Filter Sidebar','toggle off',e.getAttribute('aria-label')))),this.updateFilter_()},se.prototype.updateHeader_=function(){var e=this.spacerEl_.getBoundingClientRect(),t=this.headerEl_.offsetHeight+this.bannerOffset_;this.headerEl_.classList.contains('header--scroll-up')||(t=this.bannerOffset_);var a=!1,s=0!=e.height&&e.top<=t;a=a||s,i.enable(this.timeBarEl_,'schedule__timetable__content--stuck',s),this.timeBarEl_.style.top=s?t+'px':0;var r=this.scheduleHeaderSpacerEl_.getBoundingClientRect().top;s=r<=t,a=a||s;var o=window.getComputedStyle(this.scheduleHeaderEl_).getPropertyValue('height');this.scheduleHeaderSpacerEl_.style.height=o,i.enable(this.scheduleHeaderEl_,'schedule__header--stuck',s),this.scheduleHeaderEl_.style.top=s?t+'px':0,a?this.headerEl_.classList.add(O):this.headerEl_.classList.remove(O)},se.prototype.scrollSpy_=function(){if('agenda'!=this.lastTab_&&!1!==this.userScroll_){this.userScroll_=!0;for(var e=p(),t=0;t<this.gridDaysEls_.length;t++){var a=this.gridDaysEls_[t].id,s=this.scrollMap_[a];if(e>=s.top&&e<=s.bottom){if(this.lastTab_==a)return;this.lastTab_=a,this.pushState_(this.currentSessionId_,this.currentSpeakerId_,a),this.updateNavTabs_()}}}},se.prototype.updateNavTabs_=function(){[].forEach.call(this.tabEls_,function(e){e.dataset.day&&e.dataset.day==this.lastTab_?e.classList.add(P):e.classList.remove(P)}.bind(this))},se.prototype.updateScrollMap_=function(t){function e(e){for(var t=0;e;)t+=e.offsetTop||0,e=e.offsetParent;return t}function a(t,a,s){var r=0;return a===s.length-1?a==s.length-1&&(r=document.body.offsetHeight):r=e(s[a+1]),r}if(this.updateNavTabs_(),t.detail&&t.detail.container){var r=t.detail.container;if(!r.classList.contains(L))return}this.gridDaysEls_=this.el.querySelectorAll('.'+A);var o=c.getComputedHeight(this.scheduleHeaderEl_);this.headerEl_.classList.contains(P)&&(o+=c.getComputedHeight(this.headerEl_)),[].forEach.call(this.gridDaysEls_,function(t,r,i){var n=this.scrollMap_[t.id],l=n?n.top:0,d=n?n.bottom:0;this.scrollMap_[t.id]={top:s(l,e(t)-o),bottom:s(d,a(t,r,i)-o)}}.bind(this))},se.prototype.updateBookmarks_=function(t){this.loadedPromise_.promise.then(function(){var e=[];for(var a in t.detail.bookmarks)t.detail.bookmarks.hasOwnProperty(a)&&a in this.data_.sessions&&e.push(this.data_.sessions[a]);this.bookmarks_=e}.bind(this))},se.prototype.updateReservations_=function(t){this.loadedPromise_.promise.then(function(){var e=[];for(var a in t.detail.reservations)t.detail.reservations.hasOwnProperty(a)&&a in this.data_.sessions&&e.push(this.data_.sessions[a]);this.reservations_=e}.bind(this))},se.prototype.toggleMyIO_=function(){var e=document.body.classList.contains('auth--signed_in');return e?void(this.isMyIO_=!this.isMyIO_,this.myIoToggleEl_.classList.toggle(H+'--active'),this.myIoToggleEl_.setAttribute('aria-checked',this.isMyIO_),this.gridEl_.classList.toggle(L+'--myio'),this.updateFilter_()):void this.modalSignInEl_.dispatchEvent(new Event(l.MODAL_SHOW))},se.prototype.updateFilter_=function(){this.isFilterResetActive_||this.loadedPromise_.promise.then(function(){var e=this.filterSessions_();if(this.isMyIO_){var t=[];for(var a in this.data_.sessions)this.data_.sessions.hasOwnProperty(a)&&'__'==a.substring(0,2)&&t.push(this.data_.sessions[a]);t=t.concat(this.bookmarks_),t=t.concat(this.reservations_.filter(function(e){return-1<!t.indexOf(e)})),e=e.filter(function(e){return-1<t.indexOf(e)}.bind(this))}this.filterCountEl_.textContent=e.length+(1==e.length?' result':' results'),this.pushState_(this.currentSessionId_,this.currentSpeakerId_,this.lastTab_),this.isSortedByStartTime?e.sort(ae):ee(e,'title'),this.renderSessionList_(this.gridEl_,e,{useSections:!0,splitDays:!0})}.bind(this))},se.prototype.updateInitial_=function(){var e=c.QueryString(),t='may-8';e.section?t=e.section:this.switchTab_('agenda');var a=this.el.querySelector('.'+x+'[data-day='+t+']');a?this.switchTab_(t):(a=this.el.querySelector('.'+x+'[data-tab='+t+']'),a?this.switchTab_(t):'top'==t&&this.lastTab_&&this.switchTab_(this.lastTab_)),this.loadedPromise_.promise.then(function(){e.sid&&this.data_.sessions[e.sid]&&this.showSession_(this.data_.sessions[e.sid]),e.speaker&&this.data_.speakers[e.speaker]&&this.showSpeaker_(this.data_.speakers[e.speaker]);var a={};for(var s in this.data_.tags)this.data_.tags.hasOwnProperty(s)&&(this.ignoreParams_.push(s),s in e&&(!Array.isArray(e[s])&&(e[s]=[e[s]]),a[s]=e[s]));var r='livestream';r in e&&(a[r]=[e[r]]),this.setFilterState_(a),this.lastTab_=t,this.animateScroll_()}.bind(this))},se.prototype.updateSessions_=function(t){this.data_=t.detail.data,this.loadedPromise_.resolve()},se.init=function(){var e=document.querySelector('.schedule');return e?new se(e):void 0},e.exports=se},,,,,,,function(e){function t(){return null!==o}function a(){t()&&(window.removeEventListener('scroll',s),window.clearInterval(o))}function s(){n=!0}var r=[],o=null,n=!1;e.exports={addDelegate:function(e){r.push(e)},getScrollPosY:function(){return void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset},isStarted:t,start:function(){t()||(window.addEventListener('scroll',s),o=window.setInterval(function(){if(n){for(var e,t=0;e=r[t];t++)e.onScroll();n=!1}},250))},stop:a}},function(e,t,a){var s=a(32),r={selector:'a.ak-update-params[href]',attr:'href',params:null};e.exports={getParameterValue:function(e,t){var a=t||window.location.href;e=e.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');var s=new RegExp('[\\?&]'+e+'=([^&#]*)'),r=s.exec(a);return null===r?null:r[1]},updateParamsFromUrl:function(e){var t=s.clone(r);s.merge(t,e);var a=t.selector,o=t.attr,n=t.params;if(!n)throw'`params` is required';for(var l={},d=new URL(location.href),c=d.searchParams.keys();;){var u=c.next();if(u.done)break;for(var p,_=u.value,h=0;h<n.length;h++)p=n[h],p instanceof RegExp?_.match(p)&&(l[_]=d.searchParams.get(_)):p===_&&(l[_]=d.searchParams.get(_))}for(var i,y,m=document.querySelectorAll(a),h=0;i=m[h];h++)if(y=i.getAttribute(o),y&&!y.startsWith('#')){var g=new URL(i.getAttribute(o),d);for(_ in l)g.searchParams.set(_,l[_]);i.setAttribute(o,g.toString())}}}},,,,,,,,,,,,,,,function(e,t,a){'use strict';var s=a(69),r=a(18),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=a(8),n=a(2),l=a(6),d=a(3),c=a(70),u=a(59),p=a(55),d=a(3),l=a(6);window.addEventListener(n.ANIMATE_ICON,function(t){var e=new o.default(t.detail.icon,{playOnLoad:!0});e.init()},!1),s.Reservations.init(window.firebase),c.init(),u.init(i.sessions),d.init(),l.init(),p.init(window.firebase)},,,,,,,,,,,,,,,,,,,,,,,,function(e){function t(e){if(e)return a(e)}function a(e){for(var a in t.prototype)e[a]=t.prototype[a];return e}e.exports=t;t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks['$'+e]=this._callbacks['$'+e]||[]).push(t),this},t.prototype.once=function(e,t){function a(){this.off(e,a),t.apply(this,arguments)}return a.fn=t,this.on(e,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a=this._callbacks['$'+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks['$'+e],this;for(var s,r=0;r<a.length;r++)if(s=a[r],s===t||s.fn===t){a.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),a=this._callbacks['$'+e];if(a){a=a.slice(0);for(var s=0,r=a.length;s<r;++s)a[s].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks['$'+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},,,function(e){function t(){this._defaults=[]}['use','on','once','set','query','type','accept','auth','withCredentials','sortQuery','retry','ok','redirects','timeout','buffer','serialize','parse','ca','key','pfx','cert'].forEach(function(e){t.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),t.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=t},function(e,t,a){function s(){}function r(e){if(!y(e))return e;var t=[];for(var a in e)o(t,a,e[a]);return t.join('&')}function o(e,t,a){if(!(null!=a))null===a&&e.push(encodeURIComponent(t));else if(Array.isArray(a))a.forEach(function(a){o(e,t,a)});else if(y(a))for(var s in a)o(e,t+'['+s+']',a[s]);else e.push(encodeURIComponent(t)+'='+encodeURIComponent(a))}function i(e){for(var t,a,s={},r=e.split('&'),o=0,i=r.length;o<i;++o)t=r[o],a=t.indexOf('='),-1==a?s[decodeURIComponent(t)]='':s[decodeURIComponent(t.slice(0,a))]=decodeURIComponent(t.slice(a+1));return s}function n(e){for(var t,a,s,r,o=e.split(/\r?\n/),n={},l=0,i=o.length;l<i;++l)(a=o[l],t=a.indexOf(':'),-1!==t)&&(s=a.slice(0,t).toLowerCase(),r=b(a.slice(t+1)),n[s]=r);return n}function l(e){return /[\/+]json($|[^-\w])/.test(e)}function d(e){this.req=e,this.xhr=this.req.xhr,this.text='HEAD'!=this.req.method&&(''===this.xhr.responseType||'text'===this.xhr.responseType)||'undefined'==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=n(this.xhr.getAllResponseHeaders()),this.header['content-type']=this.xhr.getResponseHeader('content-type'),this._setHeaderProperties(this.header),this.body=null===this.text&&e._responseType?this.xhr.response:'HEAD'==this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function c(e,t){var a=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on('end',function(){var t=null,e=null;try{e=new d(a)}catch(s){return t=new Error('Parser is unable to parse the response'),t.parse=!0,t.original=s,a.xhr?(t.rawResponse='undefined'==typeof a.xhr.responseType?a.xhr.responseText:a.xhr.response,t.status=a.xhr.status?a.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),a.callback(t)}a.emit('response',e);var s;try{a._isResponseOK(e)||(s=new Error(e.statusText||'Unsuccessful HTTP response'))}catch(e){s=e}s?(s.original=t,s.response=e,s.status=e.status,a.callback(s,e)):a.callback(null,e)})}function u(e,t,a){var s=f('DELETE',e);return'function'==typeof t&&(a=t,t=null),t&&s.send(t),a&&s.end(a),s}var p;'undefined'==typeof window?'undefined'==typeof self?(console.warn('Using browser-only version of superagent in non-browser environment'),p=this):p=self:p=window;var _=a(117),h=a(122),y=a(52),m=a(123),g=a(120);var f=t=e.exports=function(e,a){return'function'==typeof a?new t.Request('GET',e).end(a):1==arguments.length?new t.Request('GET',e):new t.Request(e,a)};t.Request=c,f.getXHR=function(){if(p.XMLHttpRequest&&(!p.location||'file:'!=p.location.protocol||!p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject('Microsoft.XMLHTTP')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP.6.0')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP.3.0')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(t){}throw Error('Browser-only version of superagent could not find XHR')};var b=function(e){return e.trim()};f.serializeObject=r,f.parseString=i,f.types={html:'text/html',json:'application/json',xml:'text/xml',urlencoded:'application/x-www-form-urlencoded',form:'application/x-www-form-urlencoded',"form-data":'application/x-www-form-urlencoded'},f.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse},m(d.prototype),d.prototype._parseBody=function(e){var t=f.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&l(this.type)&&(t=f.parse['application/json']),t&&e&&(e.length||e instanceof Object)?t(e):null)},d.prototype.toError=function(){var e=this.req,t=e.method,a=e.url,s='cannot '+t+' '+a+' ('+this.status+')',r=new Error(s);return r.status=this.status,r.method=t,r.url=a,r},f.Response=d,_(c.prototype),h(c.prototype),c.prototype.type=function(e){return this.set('Content-Type',f.types[e]||e),this},c.prototype.accept=function(e){return this.set('Accept',f.types[e]||e),this},c.prototype.auth=function(e,t,a){1===arguments.length&&(t=''),'object'==typeof t&&null!==t&&(a=t,t=''),a||(a={type:'function'==typeof btoa?'basic':'auto'});return this._auth(e,t,a,function(e){if('function'==typeof btoa)return btoa(e);throw new Error('Cannot use basic auth, btoa is not a function')})},c.prototype.query=function(e){return'string'!=typeof e&&(e=r(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,a){if(t){if(this._data)throw Error('superagent can\'t mix .send() and .attach()');this._getFormData().append(e,t,a||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new p.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var a=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit('error',e)),a(e,t)},c.prototype.crossDomainError=function(){var e=new Error('Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn('This is not supported in browser version of superagent'),this},c.prototype.pipe=c.prototype.write=function(){throw Error('Streaming is not supported in browser version of superagent')},c.prototype._isHost=function(e){return e&&'object'==typeof e&&!Array.isArray(e)&&'[object Object]'!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn('Warning: .end() was called twice. This is not supported in superagent'),this._endCalled=!0,this._callback=e||s,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var t=this,e=this.xhr=f.getXHR(),a=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var a=e.readyState;if(2<=a&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==a){var s;try{s=e.status}catch(t){s=0}return s?void t.emit('end'):t.timedout||t._aborted?void 0:t.crossDomainError()}};var s=function(a,s){0<s.total&&(s.percent=100*(s.loaded/s.total)),s.direction=a,t.emit('progress',s)};if(this.hasListeners('progress'))try{e.onprogress=s.bind(null,'download'),e.upload&&(e.upload.onprogress=s.bind(null,'upload'))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&'GET'!=this.method&&'HEAD'!=this.method&&'string'!=typeof a&&!this._isHost(a)){var r=this._header['content-type'],o=this._serializer||f.serialize[r?r.split(';')[0]:''];!o&&l(r)&&(o=f.serialize['application/json']),o&&(a=o(a))}for(var i in this.header)null!=this.header[i]&&this.header.hasOwnProperty(i)&&e.setRequestHeader(i,this.header[i]);return this._responseType&&(e.responseType=this._responseType),this.emit('request',this),e.send('undefined'==typeof a?null:a),this},f.agent=function(){return new g},['GET','POST','OPTIONS','PATCH','PUT','DELETE'].forEach(function(e){g.prototype[e.toLowerCase()]=function(t,a){var s=new f.Request(e,t);return this._setDefaults(s),a&&s.end(a),s}}),g.prototype.del=g.prototype['delete'],f.get=function(e,t,a){var s=f('GET',e);return'function'==typeof t&&(a=t,t=null),t&&s.query(t),a&&s.end(a),s},f.head=function(e,t,a){var s=f('HEAD',e);return'function'==typeof t&&(a=t,t=null),t&&s.query(t),a&&s.end(a),s},f.options=function(e,t,a){var s=f('OPTIONS',e);return'function'==typeof t&&(a=t,t=null),t&&s.send(t),a&&s.end(a),s},f.del=u,f['delete']=u,f.patch=function(e,t,a){var s=f('PATCH',e);return'function'==typeof t&&(a=t,t=null),t&&s.send(t),a&&s.end(a),s},f.post=function(e,t,a){var s=f('POST',e);return'function'==typeof t&&(a=t,t=null),t&&s.send(t),a&&s.end(a),s},f.put=function(e,t,a){var s=f('PUT',e);return'function'==typeof t&&(a=t,t=null),t&&s.send(t),a&&s.end(a),s}},function(e,t,a){'use strict';function s(e){if(e)return r(e)}function r(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}var o=a(52);e.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},s.prototype.parse=function(e){return this._parser=e,this},s.prototype.responseType=function(e){return this._responseType=e,this},s.prototype.serialize=function(e){return this._serializer=e,this},s.prototype.timeout=function(e){if(!e||'object'!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)'deadline'===t?this._timeout=e.deadline:'response'===t?this._responseTimeout=e.response:console.warn('Unknown timeout option',t);return this},s.prototype.retry=function(e,t){return(0===arguments.length||!0===e)&&(e=1),0>=e&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=['ECONNRESET','ETIMEDOUT','EADDRINFO','ESOCKETTIMEDOUT'];s.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var a=this._retryCallback(e,t);if(!0===a)return!0;if(!1===a)return!1}catch(t){console.error(t)}if(t&&t.status&&500<=t.status&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&'ECONNABORTED'==e.code)return!0;if(e.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},s.prototype.then=function(e,t){if(!this._fullfilledPromise){var a=this;this._endCalled&&console.warn('Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises'),this._fullfilledPromise=new Promise(function(e,t){a.end(function(a,s){a?t(a):e(s)})})}return this._fullfilledPromise.then(e,t)},s.prototype.catch=function(e){return this.then(void 0,e)},s.prototype.use=function(e){return e(this),this},s.prototype.ok=function(e){if('function'!=typeof e)throw Error('Callback required');return this._okCallback=e,this},s.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&300>e.status)},s.prototype.get=function(e){return this._header[e.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(e,t){if(o(e)){for(var a in e)this.set(a,e[a]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},s.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},s.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error('.field(name, val) name can not be empty');if(this._data&&console.error('.field() can\'t be used if .send() is used. Please use only .send() or only .field() & .attach()'),o(e)){for(var a in e)this.field(a,e[a]);return this}if(Array.isArray(t)){for(var s in t)this.field(e,t[s]);return this}if(null===t||void 0===t)throw new Error('.field(name, val) val can not be empty');return'boolean'==typeof t&&(t=''+t),this._getFormData().append(e,t),this},s.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit('abort'),this)},s.prototype._auth=function(e,t,a,s){switch(a.type){case'basic':this.set('Authorization','Basic '+s(e+':'+t));break;case'auto':this.username=e,this.password=t;break;case'bearer':this.set('Authorization','Bearer '+e);}return this},s.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},s.prototype.redirects=function(e){return this._maxRedirects=e,this},s.prototype.maxResponseSize=function(e){if('number'!=typeof e)throw TypeError('Invalid argument');return this._maxResponseSize=e,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(e){var t=o(e),a=this._header['content-type'];if(this._formData&&console.error('.send() can\'t be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()'),t&&!this._data)Array.isArray(e)?this._data=[]:!this._isHost(e)&&(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error('Can\'t merge these send calls');if(t&&o(this._data))for(var s in e)this._data[s]=e[s];else'string'==typeof e?(a||this.type('form'),a=this._header['content-type'],this._data='application/x-www-form-urlencoded'==a?this._data?this._data+'&'+e:e:(this._data||'')+e):this._data=e;return!t||this._isHost(e)?this:(a||this.type('json'),this)},s.prototype.sortQuery=function(e){return this._sort='undefined'==typeof e||e,this},s.prototype._finalizeQueryString=function(){var e=this._query.join('&');if(e&&(this.url+=(0<=this.url.indexOf('?')?'&':'?')+e),this._query.length=0,this._sort){var t=this.url.indexOf('?');if(0<=t){var a=this.url.substring(t+1).split('&');'function'==typeof this._sort?a.sort(this._sort):a.sort(),this.url=this.url.substring(0,t)+'?'+a.join('&')}}},s.prototype._appendQueryString=function(){console.trace('Unsupported')},s.prototype._timeoutError=function(e,t,a){if(!this._aborted){var s=new Error(e+t+'ms exceeded');s.timeout=t,s.code='ECONNABORTED',s.errno=a,this.timedout=!0,this.abort(),this.callback(s)}},s.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError('Timeout of ',e._timeout,'ETIME')},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError('Response timeout of ',e._responseTimeout,'ETIMEDOUT')},this._responseTimeout))}},function(e,t,a){'use strict';function s(e){if(e)return r(e)}function r(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}var o=a(124);e.exports=s,s.prototype.get=function(e){return this.header[e.toLowerCase()]},s.prototype._setHeaderProperties=function(e){var t=e['content-type']||'';this.type=o.type(t);var a=o.params(t);for(var s in a)this[s]=a[s];this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},s.prototype._setStatusProperties=function(e){var t=0|e/100;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=!(4!=t&&5!=t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t){'use strict';t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var a=t.split(/ *= */),s=a.shift(),r=a.shift();return s&&r&&(e[s]=r),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var a=t.split(/ *; */),s=a[0].slice(1,-1),r=a[1].split(/ *= */)[1].slice(1,-1);return e[r]=s,e},{})},t.cleanHeader=function(e,t){return delete e['content-type'],delete e['content-length'],delete e['transfer-encoding'],delete e.host,t&&(delete e.authorization,delete e.cookie),e}}]);
//# sourceMappingURL=schedule.min.js.map